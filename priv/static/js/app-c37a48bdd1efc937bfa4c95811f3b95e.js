if(function(){"use strict";var t="undefined"==typeof window?global:window;if("function"!=typeof t.require){var e={},n={},r={},i={}.hasOwnProperty,o="components/",s=function(t,e){var n=0;e&&(0===e.indexOf(o)&&(n=o.length),e.indexOf("/",n)>0&&(e=e.substring(n,e.indexOf("/",n))));var i=r[t+"/index.js"]||r[e+"/deps/"+t+"/index.js"];return i?o+i.substring(0,i.length-".js".length):t},a=/^\.\.?(\/|$)/,l=function(t,e){for(var n,r=[],i=(a.test(e)?t+"/"+e:e).split("/"),o=0,s=i.length;s>o;o++)n=i[o],".."===n?r.pop():"."!==n&&""!==n&&r.push(n);return r.join("/")},c=function(t){return t.split("/").slice(0,-1).join("/")},u=function(e){return function(n){var r=l(c(e),n);return t.require(r,e)}},h=function(t,e){var r={id:t,exports:{}};return n[t]=r,e(r.exports,u(t),r),r.exports},f=function(t,r){var o=l(t,".");if(null==r&&(r="/"),o=s(t,r),i.call(n,o))return n[o].exports;if(i.call(e,o))return h(o,e[o]);var a=l(o,"./index");if(i.call(n,a))return n[a].exports;if(i.call(e,a))return h(a,e[a]);throw new Error('Cannot find module "'+t+'" from "'+r+'"')};f.alias=function(t,e){r[e]=t},f.register=f.define=function(t,n){if("object"==typeof t)for(var r in t)i.call(t,r)&&(e[r]=t[r]);else e[t]=n},f.list=function(){var t=[];for(var n in e)i.call(e,n)&&t.push(n);return t},f.brunch=!0,f._cache=n,t.require=f}}(),function(){var t=(window,{assert:{},buffer:{},child_process:{},cluster:{},crypto:{},dgram:{},dns:{},events:{},fs:{},http:{},https:{},net:{},os:{},path:{},punycode:{},querystring:{},readline:{},repl:{},string_decoder:{},tls:{},tty:{},url:{},util:{},vm:{},zlib:{},process:{env:{}}}),e=(t.process,function(e,n){return function(r){return void 0!==n[r]&&(r=n[r]),r=r.replace(".js",""),-1===["assert","buffer","child_process","cluster","crypto","dgram","dns","events","fs","http","https","net","os","path","punycode","querystring","readline","repl","string_decoder","tls","tty","url","util","vm","zlib","process"].indexOf(r)?e(r):t[r]}});require.register("phoenix",function(t,n,r){e(function(t){return n(t.replace("./","phoenix/"))},{});!function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(t,"__esModule",{value:!0});var i="1.0.0",o={connecting:0,open:1,closing:2,closed:3},s=1e4,a={closed:"closed",errored:"errored",joined:"joined",joining:"joining"},l={close:"phx_close",error:"phx_error",join:"phx_join",reply:"phx_reply",leave:"phx_leave"},c={longpoll:"longpoll",websocket:"websocket"},u=function(){function t(n,r,i,o){e(this,t),this.channel=n,this.event=r,this.payload=i||{},this.receivedResp=null,this.timeout=o,this.timeoutTimer=null,this.recHooks=[],this.sent=!1}return r(t,[{key:"resend",value:function(t){this.timeout=t,this.cancelRefEvent(),this.ref=null,this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}},{key:"send",value:function(){this.hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref}))}},{key:"receive",value:function(t,e){return this.hasReceived(t)&&e(this.receivedResp.response),this.recHooks.push({status:t,callback:e}),this}},{key:"matchReceive",value:function(t){var e=t.status,n=t.response;t.ref;this.recHooks.filter(function(t){return t.status===e}).forEach(function(t){return t.callback(n)})}},{key:"cancelRefEvent",value:function(){this.refEvent&&this.channel.off(this.refEvent)}},{key:"cancelTimeout",value:function(){clearTimeout(this.timeoutTimer),this.timeoutTimer=null}},{key:"startTimeout",value:function(){var t=this;this.timeoutTimer||(this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,function(e){t.cancelRefEvent(),t.cancelTimeout(),t.receivedResp=e,t.matchReceive(e)}),this.timeoutTimer=setTimeout(function(){t.trigger("timeout",{})},this.timeout))}},{key:"hasReceived",value:function(t){return this.receivedResp&&this.receivedResp.status===t}},{key:"trigger",value:function(t,e){this.channel.trigger(this.refEvent,{status:t,response:e})}}]),t}(),h=t.Channel=function(){function t(n,r,i){var o=this;e(this,t),this.state=a.closed,this.topic=n,this.params=r||{},this.socket=i,this.bindings=[],this.timeout=this.socket.timeout,this.joinedOnce=!1,this.joinPush=new u(this,l.join,this.params,this.timeout),this.pushBuffer=[],this.rejoinTimer=new p(function(){return o.rejoinUntilConnected()},this.socket.reconnectAfterMs),this.joinPush.receive("ok",function(){o.state=a.joined,o.rejoinTimer.reset(),o.pushBuffer.forEach(function(t){return t.send()}),o.pushBuffer=[]}),this.onClose(function(){o.socket.log("channel","close "+o.topic),o.state=a.closed,o.socket.remove(o)}),this.onError(function(t){o.socket.log("channel","error "+o.topic,t),o.state=a.errored,o.rejoinTimer.scheduleTimeout()}),this.joinPush.receive("timeout",function(){o.state===a.joining&&(o.socket.log("channel","timeout "+o.topic,o.joinPush.timeout),o.state=a.errored,o.rejoinTimer.scheduleTimeout())}),this.on(l.reply,function(t,e){o.trigger(o.replyEventName(e),t)})}return r(t,[{key:"rejoinUntilConnected",value:function(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this.rejoin()}},{key:"join",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.timeout:arguments[0];if(this.joinedOnce)throw"tried to join multiple times. 'join' can only be called a single time per channel instance";return this.joinedOnce=!0,this.rejoin(t),this.joinPush}},{key:"onClose",value:function(t){this.on(l.close,t)}},{key:"onError",value:function(t){this.on(l.error,function(e){return t(e)})}},{key:"on",value:function(t,e){this.bindings.push({event:t,callback:e})}},{key:"off",value:function(t){this.bindings=this.bindings.filter(function(e){return e.event!==t})}},{key:"canPush",value:function(){return this.socket.isConnected()&&this.state===a.joined}},{key:"push",value:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?this.timeout:arguments[2];if(!this.joinedOnce)throw"tried to push '"+t+"' to '"+this.topic+"' before joining. Use channel.join() before pushing events";var r=new u(this,t,e,n);return this.canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}},{key:"leave",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?this.timeout:arguments[0],n=function(){t.socket.log("channel","leave "+t.topic),t.trigger(l.close,"leave")},r=new u(this,l.leave,{},e);return r.receive("ok",function(){return n()}).receive("timeout",function(){return n()}),r.send(),this.canPush()||r.trigger("ok",{}),r}},{key:"onMessage",value:function(t,e,n){}},{key:"isMember",value:function(t){return this.topic===t}},{key:"sendJoin",value:function(t){this.state=a.joining,this.joinPush.resend(t)}},{key:"rejoin",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.timeout:arguments[0];this.sendJoin(t)}},{key:"trigger",value:function(t,e,n){this.onMessage(t,e,n),this.bindings.filter(function(e){return e.event===t}).map(function(t){return t.callback(e,n)})}},{key:"replyEventName",value:function(t){return"chan_reply_"+t}}]),t}(),f=(t.Socket=function(){function t(n){var r=this,i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];e(this,t),this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.channels=[],this.sendBuffer=[],this.ref=0,this.timeout=i.timeout||s,this.transport=i.transport||window.WebSocket||f,this.heartbeatIntervalMs=i.heartbeatIntervalMs||3e4,this.reconnectAfterMs=i.reconnectAfterMs||function(t){return[1e3,2e3,5e3,1e4][t-1]||1e4},this.logger=i.logger||function(){},this.longpollerTimeout=i.longpollerTimeout||2e4,this.params=i.params||{},this.endPoint=n+"/"+c.websocket,this.reconnectTimer=new p(function(){r.disconnect(function(){return r.connect()})},this.reconnectAfterMs)}return r(t,[{key:"protocol",value:function(){return location.protocol.match(/^https/)?"wss":"ws"}},{key:"endPointURL",value:function(){var t=d.appendParams(d.appendParams(this.endPoint,this.params),{vsn:i});return"/"!==t.charAt(0)?t:"/"===t.charAt(1)?this.protocol()+":"+t:this.protocol()+"://"+location.host+t}},{key:"disconnect",value:function(t,e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n||""):this.conn.close(),this.conn=null),t&&t()}},{key:"connect",value:function(t){var e=this;t&&(console&&console.log("passing params to connect is deprecated. Instead pass :params to the Socket constructor"),this.params=t),this.conn||(this.conn=new this.transport(this.endPointURL()),this.conn.timeout=this.longpollerTimeout,this.conn.onopen=function(){return e.onConnOpen()},this.conn.onerror=function(t){return e.onConnError(t)},this.conn.onmessage=function(t){return e.onConnMessage(t)},this.conn.onclose=function(t){return e.onConnClose(t)})}},{key:"log",value:function(t,e,n){this.logger(t,e,n)}},{key:"onOpen",value:function(t){this.stateChangeCallbacks.open.push(t)}},{key:"onClose",value:function(t){this.stateChangeCallbacks.close.push(t)}},{key:"onError",value:function(t){this.stateChangeCallbacks.error.push(t)}},{key:"onMessage",value:function(t){this.stateChangeCallbacks.message.push(t)}},{key:"onConnOpen",value:function(){var t=this;this.log("transport","connected to "+this.endPointURL(),this.transport.prototype),this.flushSendBuffer(),this.reconnectTimer.reset(),this.conn.skipHeartbeat||(clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(function(){return t.sendHeartbeat()},this.heartbeatIntervalMs)),this.stateChangeCallbacks.open.forEach(function(t){return t()})}},{key:"onConnClose",value:function(t){this.log("transport","close",t),this.triggerChanError(),clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(function(e){return e(t)})}},{key:"onConnError",value:function(t){this.log("transport",t),this.triggerChanError(),this.stateChangeCallbacks.error.forEach(function(e){return e(t)})}},{key:"triggerChanError",value:function(){this.channels.forEach(function(t){return t.trigger(l.error)})}},{key:"connectionState",value:function(){switch(this.conn&&this.conn.readyState){case o.connecting:return"connecting";case o.open:return"open";case o.closing:return"closing";default:return"closed"}}},{key:"isConnected",value:function(){return"open"===this.connectionState()}},{key:"remove",value:function(t){this.channels=this.channels.filter(function(e){return!e.isMember(t.topic)})}},{key:"channel",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=new h(t,e,this);return this.channels.push(n),n}},{key:"push",value:function(t){var e=this,n=t.topic,r=t.event,i=t.payload,o=t.ref,s=function(){return e.conn.send(JSON.stringify(t))};this.log("push",n+" "+r+" ("+o+")",i),this.isConnected()?s():this.sendBuffer.push(s)}},{key:"makeRef",value:function(){var t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}},{key:"sendHeartbeat",value:function(){this.isConnected()&&this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.makeRef()})}},{key:"flushSendBuffer",value:function(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(function(t){return t()}),this.sendBuffer=[])}},{key:"onConnMessage",value:function(t){var e=JSON.parse(t.data),n=e.topic,r=e.event,i=e.payload,o=e.ref;this.log("receive",(i.status||"")+" "+n+" "+r+" "+(o&&"("+o+")"||""),i),this.channels.filter(function(t){return t.isMember(n)}).forEach(function(t){return t.trigger(r,i,o)}),this.stateChangeCallbacks.message.forEach(function(t){return t(e)})}}]),t}(),t.LongPoll=function(){function t(n){e(this,t),this.endPoint=null,this.token=null,this.skipHeartbeat=!0,this.onopen=function(){},this.onerror=function(){},this.onmessage=function(){},this.onclose=function(){},this.pollEndpoint=this.normalizeEndpoint(n),this.readyState=o.connecting,this.poll()}return r(t,[{key:"normalizeEndpoint",value:function(t){return t.replace("ws://","http://").replace("wss://","https://").replace(new RegExp("(.*)/"+c.websocket),"$1/"+c.longpoll)}},{key:"endpointURL",value:function(){return d.appendParams(this.pollEndpoint,{token:this.token})}},{key:"closeAndRetry",value:function(){this.close(),this.readyState=o.connecting}},{key:"ontimeout",value:function(){this.onerror("timeout"),this.closeAndRetry()}},{key:"poll",value:function(){var t=this;(this.readyState===o.open||this.readyState===o.connecting)&&d.request("GET",this.endpointURL(),"application/json",null,this.timeout,this.ontimeout.bind(this),function(e){if(e){var n=e.status,r=e.token,i=e.messages;t.token=r}else var n=0;switch(n){case 200:i.forEach(function(e){return t.onmessage({data:JSON.stringify(e)})}),t.poll();break;case 204:t.poll();break;case 410:t.readyState=o.open,t.onopen(),t.poll();break;case 0:case 500:t.onerror(),t.closeAndRetry();break;default:throw"unhandled poll status "+n}})}},{key:"send",value:function(t){var e=this;d.request("POST",this.endpointURL(),"application/json",t,this.timeout,this.onerror.bind(this,"timeout"),function(t){t&&200===t.status||(e.onerror(status),e.closeAndRetry())})}},{key:"close",value:function(t,e){this.readyState=o.closed,this.onclose()}}]),t}()),d=t.Ajax=function(){function t(){e(this,t)}return r(t,null,[{key:"request",value:function(t,e,n,r,i,o,s){if(window.XDomainRequest){var a=new XDomainRequest;this.xdomainRequest(a,t,e,r,i,o,s)}else{var a=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");this.xhrRequest(a,t,e,n,r,i,o,s)}}},{key:"xdomainRequest",value:function(t,e,n,r,i,o,s){var a=this;t.timeout=i,t.open(e,n),t.onload=function(){var e=a.parseJSON(t.responseText);s&&s(e)},o&&(t.ontimeout=o),t.onprogress=function(){},t.send(r)}},{key:"xhrRequest",value:function(t,e,n,r,i,o,s,a){var l=this;t.timeout=o,t.open(e,n,!0),t.setRequestHeader("Content-Type",r),t.onerror=function(){a&&a(null)},t.onreadystatechange=function(){if(t.readyState===l.states.complete&&a){var e=l.parseJSON(t.responseText);a(e)}},s&&(t.ontimeout=s),t.send(i)}},{key:"parseJSON",value:function(t){return t&&""!==t?JSON.parse(t):null}},{key:"serialize",value:function(t,e){var r=[];for(var i in t)if(t.hasOwnProperty(i)){var o=e?e+"["+i+"]":i,s=t[i];"object"===("undefined"==typeof s?"undefined":n(s))?r.push(this.serialize(s,o)):r.push(encodeURIComponent(o)+"="+encodeURIComponent(s))}return r.join("&")}},{key:"appendParams",value:function(t,e){if(0===Object.keys(e).length)return t;var n=t.match(/\?/)?"&":"?";return""+t+n+this.serialize(e)}}]),t}();d.states={complete:4};var p=function(){function t(n,r){e(this,t),this.callback=n,this.timerCalc=r,this.timer=null,this.tries=0}return r(t,[{key:"reset",value:function(){this.tries=0,clearTimeout(this.timer)}},{key:"scheduleTimeout",value:function(){var t=this;clearTimeout(this.timer),this.timer=setTimeout(function(){t.tries=t.tries+1,t.callback()},this.timerCalc(this.tries+1))}}]),t}()}("undefined"==typeof t?window.Phoenix=window.Phoenix||{}:t)}),require.register("phoenix_html",function(t,n,r){for(var i=(e(function(t){return n(t.replace("./","phoenix_html/"))},{}),document.querySelectorAll("[data-submit^=parent]")),o=i.length,s=0;o>s;++s)i[s].addEventListener("click",function(t){var e=this.getAttribute("data-confirm");return(null===e||confirm(e))&&this.parentNode.submit(),t.preventDefault(),!1},!1)})}(),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new r(this)),"string"==typeof e&&i[e].call(n)})}var n='[data-dismiss="alert"]',r=function(e){t(e).on("click",n,this.close)};r.VERSION="3.3.1",r.TRANSITION_DURATION=150,r.prototype.close=function(e){function n(){s.detach().trigger("closed.bs.alert").remove()}var i=t(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var s=t(o);e&&e.preventDefault(),s.length||(s=i.closest(".alert")),s.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",n).emulateTransitionEnd(r.TRANSITION_DURATION):n())};var i=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=r,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.bs.alert.data-api",n,r.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.button"),o="object"==typeof e&&e;i||r.data("bs.button",i=new n(this,o)),"toggle"==e?i.toggle():e&&i.setState(e)})}var n=function(e,r){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.3.1",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",o=r.data();e+="Text",null==o.resetText&&r.data("resetText",r[i]()),setTimeout(t.proxy(function(){r[i](null==o[e]?this.options[e]:o[e]),"loadingText"==e?(this.isLoading=!0,r.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));t&&this.$element.toggleClass("active")};var r=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=r,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var r=t(n.target);r.hasClass("btn")||(r=r.closest(".btn")),e.call(r,"toggle"),n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.carousel"),o=t.extend({},n.DEFAULTS,r.data(),"object"==typeof e&&e),s="string"==typeof e?e:o.slide;i||r.data("bs.carousel",i=new n(this,o)),"number"==typeof e?i.to(e):s?i[s]():o.interval&&i.pause().cycle()})}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.1",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n="prev"==t?-1:1,r=this.getItemIndex(e),i=(r+n)%this.$items.length;return this.$items.eq(i)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(e,r){var i=this.$element.find(".item.active"),o=r||this.getItemForDirection(e,i),s=this.interval,a="next"==e?"left":"right",l="next"==e?"first":"last",c=this;if(!o.length){if(!this.options.wrap)return;o=this.$element.find(".item")[l]()}if(o.hasClass("active"))return this.sliding=!1;var u=o[0],h=t.Event("slide.bs.carousel",{relatedTarget:u,direction:a});if(this.$element.trigger(h),!h.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var f=t(this.$indicators.children()[this.getItemIndex(o)]);f&&f.addClass("active")}var d=t.Event("slid.bs.carousel",{relatedTarget:u,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(o.addClass(e),o[0].offsetWidth,i.addClass(a),o.addClass(a),i.one("bsTransitionEnd",function(){o.removeClass([e,a].join(" ")).addClass("active"),i.removeClass(["active",a].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger(d)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(d)),s&&this.cycle(),this}};var r=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=r,this};var i=function(n){var r,i=t(this),o=t(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var s=t.extend({},o.data(),i.data()),a=i.attr("data-slide-to");a&&(s.interval=!1),e.call(o,s),a&&o.data("bs.carousel").to(a),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",i).on("click.bs.carousel.data-api","[data-slide-to]",i),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),+function(t){"use strict";function e(e){e&&3===e.which||(t(i).remove(),t(o).each(function(){var r=t(this),i=n(r),o={relatedTarget:this};i.hasClass("open")&&(i.trigger(e=t.Event("hide.bs.dropdown",o)),e.isDefaultPrevented()||(r.attr("aria-expanded","false"),i.removeClass("open").trigger("hidden.bs.dropdown",o)))}))}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&t(n);return r&&r.length?r:e.parent()}function r(e){return this.each(function(){var n=t(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new s(this)),"string"==typeof e&&r[e].call(n)})}var i=".dropdown-backdrop",o='[data-toggle="dropdown"]',s=function(e){t(e).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.1",s.prototype.toggle=function(r){var i=t(this);if(!i.is(".disabled, :disabled")){var o=n(i),s=o.hasClass("open");if(e(),!s){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var a={relatedTarget:this};if(o.trigger(r=t.Event("show.bs.dropdown",a)),r.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger("shown.bs.dropdown",a)}return!1}},s.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var r=t(this);if(e.preventDefault(),e.stopPropagation(),!r.is(".disabled, :disabled")){var i=n(r),s=i.hasClass("open");if(!s&&27!=e.which||s&&27==e.which)return 27==e.which&&i.find(o).trigger("focus"),r.trigger("click");var a=" li:not(.divider):visible a",l=i.find('[role="menu"]'+a+', [role="listbox"]'+a);if(l.length){var c=l.index(e.target);38==e.which&&c>0&&c--,40==e.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=r,t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,s.prototype.toggle).on("keydown.bs.dropdown.data-api",o,s.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',s.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',s.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,r){return this.each(function(){var i=t(this),o=i.data("bs.modal"),s=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);o||i.data("bs.modal",o=new n(this,s)),"string"==typeof e?o[e](r):s.show&&o.show(r)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.1",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var r=this,i=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var i=t.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.options.backdrop&&r.adjustBackdrop(),r.adjustDialog(),i&&r.$element[0].offsetWidth,r.$element.addClass("in").attr("aria-hidden",!1),r.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});i?r.$element.find(".modal-dialog").one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):r.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var r=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&i;if(this.$backdrop=t('<div class="modal-backdrop '+i+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){r.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):s()}else e&&e()},n.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop(),this.adjustDialog()},n.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var r=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=r,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var r=t(this),i=r.attr("href"),o=t(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),s=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},o.data(),r.data());r.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),e.call(o,s,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.tooltip"),o="object"==typeof e&&e,s=o&&o.selector;(i||"destroy"!=e)&&(s?(i||r.data("bs.tooltip",i={}),i[s]||(i[s]=new n(this,o))):i||r.data("bs.tooltip",i=new n(this,o)),"string"==typeof e&&i[e]())})}var n=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};n.VERSION="3.3.1",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,r){this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport);for(var i=this.options.trigger.split(" "),o=i.length;o--;){var s=i[o];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",
selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,r){n[t]!=r&&(e[t]=r)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n&&n.$tip&&n.$tip.is(":visible")?void(n.hoverState="in"):(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var r=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!r)return;var i=this,o=this.tip(),s=this.getUID(this.type);this.setContent(),o.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&o.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(a);c&&(a=a.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element);var u=this.getPosition(),h=o[0].offsetWidth,f=o[0].offsetHeight;if(c){var d=a,p=this.options.container?t(this.options.container):this.$element.parent(),g=this.getPosition(p);a="bottom"==a&&u.bottom+f>g.bottom?"top":"top"==a&&u.top-f<g.top?"bottom":"right"==a&&u.right+h>g.width?"left":"left"==a&&u.left-h<g.left?"right":a,o.removeClass(d).addClass(a)}var m=this.getCalculatedOffset(a,u,h,f);this.applyPlacement(m,a);var v=function(){var t=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==t&&i.leave(i)};t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",v).emulateTransitionEnd(n.TRANSITION_DURATION):v()}},n.prototype.applyPlacement=function(e,n){var r=this.tip(),i=r[0].offsetWidth,o=r[0].offsetHeight,s=parseInt(r.css("margin-top"),10),a=parseInt(r.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),e.top=e.top+s,e.left=e.left+a,t.offset.setOffset(r[0],t.extend({using:function(t){r.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),r.addClass("in");var l=r[0].offsetWidth,c=r[0].offsetHeight;"top"==n&&c!=o&&(e.top=e.top+o-c);var u=this.getViewportAdjustedDelta(n,e,l,c);u.left?e.left+=u.left:e.top+=u.top;var h=/top|bottom/.test(n),f=h?2*u.left-i+l:2*u.top-o+c,d=h?"offsetWidth":"offsetHeight";r.offset(e),this.replaceArrow(f,r[0][d],h)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(e){function r(){"in"!=i.hoverState&&o.detach(),i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),e&&e()}var i=this,o=this.tip(),s=t.Event("hide.bs."+this.type);return this.$element.trigger(s),s.isDefaultPrevented()?void 0:(o.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],r="BODY"==n.tagName,i=n.getBoundingClientRect();null==i.width&&(i=t.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=r?{top:0,left:0}:e.offset(),s={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},a=r?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},i,s,a,o)},n.prototype.getCalculatedOffset=function(t,e,n,r){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-r,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-r/2,left:e.left-n}:{top:e.top+e.height/2-r/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-o-s.scroll,l=e.top+o-s.scroll+r;a<s.top?i.top=s.top-a:l>s.top+s.height&&(i.top=s.top+s.height-l)}else{var c=e.left-o,u=e.left+o+n;c<s.left?i.left=s.left-c:u>s.width&&(i.left=s.left+s.width-u)}return i},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},n.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type)})};var r=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=r,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.popover"),o="object"==typeof e&&e,s=o&&o.selector;(i||"destroy"!=e)&&(s?(i||r.data("bs.popover",i={}),i[s]||(i[s]=new n(this,o))):i||r.data("bs.popover",i=new n(this,o)),"string"==typeof e&&i[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.1",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var r=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=r,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new n(this)),"string"==typeof e&&i[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.3.1",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),r=e.data("target");if(r||(r=e.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var i=n.find(".active:last a"),o=t.Event("hide.bs.tab",{relatedTarget:e[0]}),s=t.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(o),e.trigger(s),!s.isDefaultPrevented()&&!o.isDefaultPrevented()){var a=t(r);this.activate(e.closest("li"),n),this.activate(a,a.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},n.prototype.activate=function(e,r,i){function o(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var s=r.find("> .active"),a=i&&t.support.transition&&(s.length&&s.hasClass("fade")||!!r.find("> .fade").length);s.length&&a?s.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),s.removeClass("in")};var r=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=r,this};var i=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.affix"),o="object"==typeof e&&e;i||r.data("bs.affix",i=new n(this,o)),"string"==typeof e&&i[e]()})}var n=function(e,r){this.options=t.extend({},n.DEFAULTS,r),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.1",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,r){var i=this.$target.scrollTop(),o=this.$element.offset(),s=this.$target.height();if(null!=n&&"top"==this.affixed)return n>i?"top":!1;if("bottom"==this.affixed)return null!=n?i+this.unpin<=o.top?!1:"bottom":t-r>=i+s?!1:"bottom";var a=null==this.affixed,l=a?i:o.top,c=a?s:e;return null!=n&&n>=l?"top":null!=r&&l+c>=t-r?"bottom":!1},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),r=this.options.offset,i=r.top,o=r.bottom,s=t("body").height();"object"!=typeof r&&(o=i=r),"function"==typeof i&&(i=r.top(this.$element)),"function"==typeof o&&(o=r.bottom(this.$element));var a=this.getState(s,e,i,o);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),c=t.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-e-o})}};var r=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=r,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),r=n.data();r.offset=r.offset||{},null!=r.offsetBottom&&(r.offset.bottom=r.offsetBottom),null!=r.offsetTop&&(r.offset.top=r.offsetTop),e.call(n,r)})})}(jQuery),+function(t){"use strict";function e(e){var n,r=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(r)}function n(e){return this.each(function(){var n=t(this),i=n.data("bs.collapse"),o=t.extend({},r.DEFAULTS,n.data(),"object"==typeof e&&e);!i&&o.toggle&&"show"==e&&(o.toggle=!1),i||n.data("bs.collapse",i=new r(this,o)),"string"==typeof e&&i[e]()})}var r=function(e,n){this.$element=t(e),this.options=t.extend({},r.DEFAULTS,n),this.$trigger=t(this.options.trigger).filter('[href="#'+e.id+'"], [data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};r.VERSION="3.3.1",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},r.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,i=this.$parent&&this.$parent.find("> .panel").children(".in, .collapsing");if(!(i&&i.length&&(e=i.data("bs.collapse"),e&&e.transitioning))){var o=t.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){i&&i.length&&(n.call(i,"hide"),e||i.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var l=t.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[s](this.$element[0][l])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(i,this)).emulateTransitionEnd(r.TRANSITION_DURATION):i.call(this)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,r){var i=t(r);this.addAriaAndCollapsedClass(e(i),i)},this)).end()},r.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var i=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=r,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(r){var i=t(this);i.attr("data-target")||r.preventDefault();var o=e(i),s=o.data("bs.collapse"),a=s?"toggle":t.extend({},i.data(),{trigger:this});n.call(o,a)})}(jQuery),+function(t){"use strict";function e(n,r){var i=t.proxy(this.process,this);this.$body=t("body"),this.$scrollElement=t(t(n).is("body")?window:n),this.options=t.extend({},e.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",i),this.refresh(),this.process()}function n(n){return this.each(function(){var r=t(this),i=r.data("bs.scrollspy"),o="object"==typeof n&&n;i||r.data("bs.scrollspy",i=new e(this,o)),"string"==typeof n&&i[n]()})}e.VERSION="3.3.1",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e="offset",n=0;t.isWindow(this.$scrollElement[0])||(e="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var r=this;this.$body.find(this.selector).map(function(){var r=t(this),i=r.data("target")||r.attr("href"),o=/^#./.test(i)&&t(i);return o&&o.length&&o.is(":visible")&&[[o[e]().top+n,i]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){r.offsets.push(this[0]),r.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,o=this.targets,s=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=r)return s!=(t=o[o.length-1])&&this.activate(t);if(s&&e<i[0])return this.activeTarget=null,this.clear();for(t=i.length;t--;)s!=o[t]&&e>=i[t]&&(!i[t+1]||e<=i[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',r=t(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=r,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,r=this;t(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||t(r).trigger(t.support.transition.end)};return setTimeout(i,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),function(t){function e(t){return t=L?t.replace("Ctrl","Cmd"):t.replace("Cmd","Ctrl")}function n(t,n){n=n||{};var r=document.createElement("a"),i=n.shortcut||T[t];return i&&(i=e(i),r.title=i,r.title=r.title.replace("Cmd","⌘"),L&&(r.title=r.title.replace("Alt","⌥"))),r.className=n.className||"icon-"+t,r}function r(){return el=document.createElement("i"),el.className="separator",el.innerHTML="|",el}function i(t,e){e=e||t.getCursor("start");var n=t.getTokenAt(e);if(!n.type)return{};for(var r,i,o=n.type.split(" "),s={},a=0;a<o.length;a++)r=o[a],"strong"===r?s.bold=!0:"variable-2"===r?(i=t.getLine(e.line),/^\s*\d+\.\s/.test(i)?s["ordered-list"]=!0:s["unordered-list"]=!0):"atom"===r?s.quote=!0:"em"===r&&(s.italic=!0);return s}function o(t){var e=t.codemirror.getWrapperElement(),n=document,r=n.fullScreen||n.mozFullScreen||n.webkitFullScreen,i=function(){e.requestFullScreen?e.requestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen&&e.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)},o=function(){n.cancelFullScreen?n.cancelFullScreen():n.mozCancelFullScreen?n.mozCancelFullScreen():n.webkitCancelFullScreen&&n.webkitCancelFullScreen()};r?o&&o():i()}function s(t){var e,n=t.codemirror,r=i(n),o="**",s="**",a=n.getCursor("start"),l=n.getCursor("end");r.bold?(e=n.getLine(a.line),o=e.slice(0,a.ch),s=e.slice(a.ch),o=o.replace(/^(.*)?(\*|\_){2}(\S+.*)?$/,"$1$3"),s=s.replace(/^(.*\S+)?(\*|\_){2}(\s+.*)?$/,"$1$3"),a.ch-=2,l.ch-=2,n.setLine(a.line,o+s)):(e=n.getSelection(),n.replaceSelection(o+e+s),a.ch+=2,l.ch+=2),n.setSelection(a,l),n.focus()}function a(t){var e,n=t.codemirror,r=i(n),o="*",s="*",a=n.getCursor("start"),l=n.getCursor("end");r.italic?(e=n.getLine(a.line),o=e.slice(0,a.ch),s=e.slice(a.ch),o=o.replace(/^(.*)?(\*|\_)(\S+.*)?$/,"$1$3"),s=s.replace(/^(.*\S+)?(\*|\_)(\s+.*)?$/,"$1$3"),a.ch-=1,l.ch-=1,n.setLine(a.line,o+s)):(e=n.getSelection(),n.replaceSelection(o+e+s),a.ch+=1,l.ch+=1),n.setSelection(a,l),n.focus()}function l(t){var e=t.codemirror;v(e,"quote")}function c(t){var e=t.codemirror;v(e,"unordered-list")}function u(t){var e=t.codemirror;v(e,"ordered-list")}function h(t){var e=t.codemirror,n=i(e);m(e,n.link,"[","](http://)")}function f(t){var e=t.codemirror,n=i(e);m(e,n.image,"![","](http://)")}function d(t){var e=t.codemirror;e.undo(),e.focus()}function p(t){var e=t.codemirror;e.redo(),e.focus()}function g(t){var e=t.toolbar.preview,n=t.constructor.markdown,r=t.codemirror,i=r.getWrapperElement(),o=i.lastChild;/editor-preview/.test(o.className)||(o=document.createElement("div"),o.className="editor-preview",i.appendChild(o)),/editor-preview-active/.test(o.className)?(o.className=o.className.replace(/\s*editor-preview-active\s*/g,""),e.className=e.className.replace(/\s*active\s*/g,"")):(setTimeout(function(){o.className+=" editor-preview-active"},1),e.className+=" active");var s=r.getValue();o.innerHTML=n(s)}function m(t,e,n,r){var i,o=t.getCursor("start"),s=t.getCursor("end");e?(i=t.getLine(o.line),n=i.slice(0,o.ch),r=i.slice(o.ch),t.setLine(o.line,n+r)):(i=t.getSelection(),t.replaceSelection(n+i+r),o.ch+=n.length,s.ch+=n.length),t.setSelection(o,s),t.focus()}function v(t,e){for(var n=i(t),r=t.getCursor("start"),o=t.getCursor("end"),s={quote:/^(\s*)\>\s+/,"unordered-list":/^(\s*)(\*|\-|\+)\s+/,"ordered-list":/^(\s*)\d+\.\s+/},a={quote:"> ","unordered-list":"* ","ordered-list":"1. "},l=r.line;l<=o.line;l++)!function(r){var i=t.getLine(r);i=n[e]?i.replace(s[e],"$1"):a[e]+i,t.setLine(r,i)}(l);t.focus()}function y(t){var e=/[a-zA-Z0-9_\u0392-\u03c9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,n=t.match(e),r=0;if(null===n)return r;for(var i=0;i<n.length;i++)r+=n[i].charCodeAt(0)>=19968?n[i].length:1;return r}function b(t){t=t||{},t.element&&(this.element=t.element),t.toolbar=t.toolbar||b.toolbar,t.hasOwnProperty("status")||(t.status=["lines","words","cursor"]),this.options=t,this.element&&this.render()}var k=function(){"use strict";function t(n,r){if(!(this instanceof t))return new t(n,r);this.options=r=r||{};for(var i in ri)!r.hasOwnProperty(i)&&ri.hasOwnProperty(i)&&(r[i]=ri[i]);f(r);var o="string"==typeof r.value?0:r.value.first,s=this.display=e(n,o);s.wrapper.CodeMirror=this,c(this),r.autofocus&&!Wr&&dt(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,draggingText:!1,highlight:new Un},a(this),r.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");var l=r.value;"string"==typeof l&&(l=new vi(r.value,r.mode)),ot(this,un)(this,l),_r&&setTimeout(tr(ft,this,!0),20),gt(this);var u;try{u=document.activeElement==s.input}catch(h){}u||r.autofocus&&!Wr?setTimeout(tr(Nt,this),20):$t(this),ot(this,function(){for(var t in ni)ni.propertyIsEnumerable(t)&&ni[t](this,r[t],ii);for(var e=0;e<li.length;++e)li[e](this)})()}function e(t,e){var n={},r=n.input=rr("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none; font-size: 4px;");return Tr?r.style.width="1000px":r.setAttribute("wrap","off"),Hr&&(r.style.border="1px solid black"),r.setAttribute("autocorrect","off"),r.setAttribute("autocapitalize","off"),r.setAttribute("spellcheck","false"),n.inputDiv=rr("div",[r],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),n.scrollbarH=rr("div",[rr("div",null,null,"height: 1px")],"CodeMirror-hscrollbar"),n.scrollbarV=rr("div",[rr("div",null,null,"width: 1px")],"CodeMirror-vscrollbar"),n.scrollbarFiller=rr("div",null,"CodeMirror-scrollbar-filler"),n.gutterFiller=rr("div",null,"CodeMirror-gutter-filler"),n.lineDiv=rr("div",null,"CodeMirror-code"),n.selectionDiv=rr("div",null,null,"position: relative; z-index: 1"),n.cursor=rr("div"," ","CodeMirror-cursor"),n.otherCursor=rr("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"),n.measure=rr("div",null,"CodeMirror-measure"),n.lineSpace=rr("div",[n.measure,n.selectionDiv,n.lineDiv,n.cursor,n.otherCursor],null,"position: relative; outline: none"),n.mover=rr("div",[rr("div",[n.lineSpace],"CodeMirror-lines")],null,"position: relative"),n.sizer=rr("div",[n.mover],"CodeMirror-sizer"),n.heightForcer=rr("div",null,null,"position: absolute; height: "+xi+"px; width: 1px;"),n.gutters=rr("div",null,"CodeMirror-gutters"),n.lineGutter=null,n.scroller=rr("div",[n.sizer,n.heightForcer,n.gutters],"CodeMirror-scroll"),n.scroller.setAttribute("tabIndex","-1"),n.wrapper=rr("div",[n.inputDiv,n.scrollbarH,n.scrollbarV,n.scrollbarFiller,n.gutterFiller,n.scroller],"CodeMirror"),Sr&&(n.gutters.style.zIndex=-1,n.scroller.style.paddingRight=0),t.appendChild?t.appendChild(n.wrapper):t(n.wrapper),Hr&&(r.style.width="0px"),Tr||(n.scroller.draggable=!0),$r?(n.inputDiv.style.height="1px",n.inputDiv.style.position="absolute"):Sr&&(n.scrollbarH.style.minWidth=n.scrollbarV.style.minWidth="18px"),n.viewOffset=n.lastSizeC=0,n.showingFrom=n.showingTo=e,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=null,n.prevInput="",n.alignWidgets=!1,n.pollingFast=!1,n.poll=new Un,n.cachedCharWidth=n.cachedTextHeight=null,n.measureLineCache=[],n.measureLineCachePos=0,n.inaccurateSelection=!1,n.maxLine=null,n.maxLineLength=0,n.maxLineChanged=!1,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=null,n}function n(e){e.doc.mode=t.getMode(e.options,e.doc.modeOption),e.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),e.doc.frontier=e.doc.first,$(e,100),e.state.modeGen++,e.curOp&&lt(e)}function r(t){t.options.lineWrapping?(t.display.wrapper.className+=" CodeMirror-wrap",t.display.sizer.style.minWidth=""):(t.display.wrapper.className=t.display.wrapper.className.replace(" CodeMirror-wrap",""),h(t)),o(t),lt(t),U(t),setTimeout(function(){d(t)},100)}function i(t){var e=et(t.display),n=t.options.lineWrapping,r=n&&Math.max(5,t.display.scroller.clientWidth/nt(t.display)-3);return function(i){return Pe(t.doc,i)?0:n?(Math.ceil(i.text.length/r)||1)*e:e}}function o(t){var e=t.doc,n=i(t);e.iter(function(t){var e=n(t);e!=t.height&&pn(t,e)})}function s(t){var e=hi[t.options.keyMap],n=e.style;t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(n?" cm-keymap-"+n:""),t.state.disableInput=e.disableInput}function a(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),U(t)}function l(t){c(t),lt(t),setTimeout(function(){g(t)},20)}function c(t){var e=t.display.gutters,n=t.options.gutters;ir(e);for(var r=0;r<n.length;++r){var i=n[r],o=e.appendChild(rr("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(t.display.lineGutter=o,o.style.width=(t.display.lineNumWidth||1)+"px")}e.style.display=r?"":"none"}function u(t,e){if(0==e.height)return 0;for(var n,r=e.text.length,i=e;n=He(i);){var o=n.find();i=hn(t,o.from.line),r+=o.from.ch-o.to.ch}for(i=e;n=We(i);){var o=n.find();r-=i.text.length-o.from.ch,i=hn(t,o.to.line),r+=i.text.length-o.to.ch}return r}function h(t){var e=t.display,n=t.doc;e.maxLine=hn(n,n.first),e.maxLineLength=u(n,e.maxLine),e.maxLineChanged=!0,n.iter(function(t){var r=u(n,t);r>e.maxLineLength&&(e.maxLineLength=r,e.maxLine=t)})}function f(t){for(var e=!1,n=0;n<t.gutters.length;++n)"CodeMirror-linenumbers"==t.gutters[n]&&(t.lineNumbers?e=!0:t.gutters.splice(n--,1));!e&&t.lineNumbers&&t.gutters.push("CodeMirror-linenumbers")}function d(t){var e=t.display,n=t.doc.height,r=n+W(e);e.sizer.style.minHeight=e.heightForcer.style.top=r+"px",e.gutters.style.height=Math.max(r,e.scroller.clientHeight-xi)+"px";var i=Math.max(r,e.scroller.scrollHeight),o=e.scroller.scrollWidth>e.scroller.clientWidth+1,s=i>e.scroller.clientHeight+1;s?(e.scrollbarV.style.display="block",e.scrollbarV.style.bottom=o?cr(e.measure)+"px":"0",e.scrollbarV.firstChild.style.height=i-e.scroller.clientHeight+e.scrollbarV.clientHeight+"px"):e.scrollbarV.style.display="",o?(e.scrollbarH.style.display="block",e.scrollbarH.style.right=s?cr(e.measure)+"px":"0",e.scrollbarH.firstChild.style.width=e.scroller.scrollWidth-e.scroller.clientWidth+e.scrollbarH.clientWidth+"px"):e.scrollbarH.style.display="",o&&s?(e.scrollbarFiller.style.display="block",e.scrollbarFiller.style.height=e.scrollbarFiller.style.width=cr(e.measure)+"px"):e.scrollbarFiller.style.display="",o&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(e.gutterFiller.style.display="block",e.gutterFiller.style.height=cr(e.measure)+"px",e.gutterFiller.style.width=e.gutters.offsetWidth+"px"):e.gutterFiller.style.display="",Or&&0===cr(e.measure)&&(e.scrollbarV.style.minWidth=e.scrollbarH.style.minHeight=Dr?"18px":"12px")}function p(t,e,n){var r=t.scroller.scrollTop,i=t.wrapper.clientHeight;"number"==typeof n?r=n:n&&(r=n.top,i=n.bottom-n.top),r=Math.floor(r-H(t));var o=Math.ceil(r+i);return{from:mn(e,r),to:mn(e,o)}}function g(t){var e=t.display;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var n=y(e)-e.scroller.scrollLeft+t.doc.scrollLeft,r=e.gutters.offsetWidth,i=n+"px",o=e.lineDiv.firstChild;o;o=o.nextSibling)if(o.alignable)for(var s=0,a=o.alignable;s<a.length;++s)a[s].style.left=i;t.options.fixedGutter&&(e.gutters.style.left=n+r+"px")}}function m(t){if(!t.options.lineNumbers)return!1;var e=t.doc,n=v(t.options,e.first+e.size-1),r=t.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(rr("div",[rr("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,s=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-s),r.lineNumWidth=r.lineNumInnerWidth+s,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",!0}return!1}function v(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function y(t){return ar(t.scroller).left-ar(t.sizer).left}function b(t,e,n,r){for(var i,o=t.display.showingFrom,s=t.display.showingTo,a=p(t.display,t.doc,n);k(t,e,a,r)&&(r=!1,i=!0,M(t),d(t),n&&(n=Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,"number"==typeof n?n:n.top)),a=p(t.display,t.doc,n),!(a.from>=t.display.showingFrom&&a.to<=t.display.showingTo));)e=[];return i&&(jn(t,"update",t),(t.display.showingFrom!=o||t.display.showingTo!=s)&&jn(t,"viewportChange",t,t.display.showingFrom,t.display.showingTo)),i}function k(t,e,n,r){var i=t.display,o=t.doc;if(!i.wrapper.clientWidth)return i.showingFrom=i.showingTo=o.first,void(i.viewOffset=0);if(!(!r&&0==e.length&&n.from>i.showingFrom&&n.to<i.showingTo)){m(t)&&(e=[{from:o.first,to:o.first+o.size}]);var s=i.sizer.style.marginLeft=i.gutters.offsetWidth+"px";i.scrollbarH.style.left=t.options.fixedGutter?s:"0";var a=1/0;if(t.options.lineNumbers)for(var l=0;l<e.length;++l)if(e[l].diff){a=e[l].from;break}var c=o.first+o.size,u=Math.max(n.from-t.options.viewportMargin,o.first),h=Math.min(c,n.to+t.options.viewportMargin);if(i.showingFrom<u&&u-i.showingFrom<20&&(u=Math.max(o.first,i.showingFrom)),i.showingTo>h&&i.showingTo-h<20&&(h=Math.min(c,i.showingTo)),Gr)for(u=gn(Re(o,hn(o,u)));c>h&&Pe(o,hn(o,h));)++h;
var f=[{from:Math.max(i.showingFrom,o.first),to:Math.min(i.showingTo,c)}];if(f=f[0].from>=f[0].to?[]:C(f,e),Gr)for(var l=0;l<f.length;++l)for(var d,p=f[l];d=We(hn(o,p.to-1));){var g=d.find().from.line;if(!(g>p.from)){f.splice(l--,1);break}p.to=g}for(var v=0,l=0;l<f.length;++l){var p=f[l];p.from<u&&(p.from=u),p.to>h&&(p.to=h),p.from>=p.to?f.splice(l--,1):v+=p.to-p.from}if(!r&&v==h-u&&u==i.showingFrom&&h==i.showingTo)return void x(t);f.sort(function(t,e){return t.from-e.from});try{var y=document.activeElement}catch(b){}.7*(h-u)>v&&(i.lineDiv.style.display="none"),S(t,u,h,f,a),i.lineDiv.style.display="",y&&document.activeElement!=y&&y.offsetHeight&&y.focus();var k=u!=i.showingFrom||h!=i.showingTo||i.lastSizeC!=i.wrapper.clientHeight;return k&&(i.lastSizeC=i.wrapper.clientHeight,$(t,400)),i.showingFrom=u,i.showingTo=h,w(t),x(t),!0}}function w(t){for(var e,n=t.display,r=n.lineDiv.offsetTop,i=n.lineDiv.firstChild;i;i=i.nextSibling)if(i.lineObj){if(Sr){var o=i.offsetTop+i.offsetHeight;e=o-r,r=o}else{var s=ar(i);e=s.bottom-s.top}var a=i.lineObj.height-e;if(2>e&&(e=et(n)),a>.001||-.001>a){pn(i.lineObj,e);var l=i.lineObj.widgets;if(l)for(var c=0;c<l.length;++c)l[c].height=l[c].node.offsetHeight}}}function x(t){var e=t.display.viewOffset=vn(t,hn(t.doc,t.display.showingFrom));t.display.mover.style.top=e+"px"}function C(t,e){for(var n=0,r=e.length||0;r>n;++n){for(var i=e[n],o=[],s=i.diff||0,a=0,l=t.length;l>a;++a){var c=t[a];i.to<=c.from&&i.diff?o.push({from:c.from+s,to:c.to+s}):i.to<=c.from||i.from>=c.to?o.push(c):(i.from>c.from&&o.push({from:c.from,to:i.from}),i.to<c.to&&o.push({from:i.to+s,to:c.to+s}))}t=o}return t}function _(t){for(var e=t.display,n={},r={},i=e.gutters.firstChild,o=0;i;i=i.nextSibling,++o)n[t.options.gutters[o]]=i.offsetLeft,r[t.options.gutters[o]]=i.offsetWidth;return{fixedPos:y(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:e.wrapper.clientWidth}}function S(t,e,n,r,i){function o(e){var n=e.nextSibling;return Tr&&Rr&&t.display.currentWheelTarget==e?(e.style.display="none",e.lineObj=null):e.parentNode.removeChild(e),n}var s=_(t),a=t.display,l=t.options.lineNumbers;r.length||Tr&&t.display.currentWheelTarget||ir(a.lineDiv);var c=a.lineDiv,u=c.firstChild,h=r.shift(),f=e;for(t.doc.iter(e,n,function(e){if(h&&h.to==f&&(h=r.shift()),Pe(t.doc,e)){if(0!=e.height&&pn(e,0),e.widgets&&u.previousSibling)for(var n=0;n<e.widgets.length;++n){var a=e.widgets[n];if(a.showIfHidden){var d=u.previousSibling;if(/pre/i.test(d.nodeName)){var p=rr("div",null,null,"position: relative");d.parentNode.replaceChild(p,d),p.appendChild(d),d=p}var g=d.appendChild(rr("div",[a.node],"CodeMirror-linewidget"));a.handleMouseEvents||(g.ignoreEvents=!0),T(a,g,d,s)}}}else if(h&&h.from<=f&&h.to>f){for(;u.lineObj!=e;)u=o(u);l&&f>=i&&u.lineNumber&&sr(u.lineNumber,v(t.options,f)),u=u.nextSibling}else{if(e.widgets)for(var m,y=0,b=u;b&&20>y;++y,b=b.nextSibling)if(b.lineObj==e&&/div/i.test(b.nodeName)){m=b;break}var k=L(t,e,f,s,m);if(k!=m)c.insertBefore(k,u);else{for(;u!=m;)u=o(u);u=u.nextSibling}k.lineObj=e}++f});u;)u=o(u)}function L(t,e,n,r,i){var o,s=Ze(t,e),a=e.gutterMarkers,l=t.display;if(!(t.options.lineNumbers||a||e.bgClass||e.wrapClass||e.widgets))return s;if(i){i.alignable=null;for(var c,u=!0,h=0,f=null,d=i.firstChild;d;d=c)if(c=d.nextSibling,/\bCodeMirror-linewidget\b/.test(d.className)){for(var p=0;p<e.widgets.length;++p){var g=e.widgets[p];if(g.node==d.firstChild){g.above||f||(f=d),T(g,d,i,r),++h;break}}if(p==e.widgets.length){u=!1;break}}else i.removeChild(d);i.insertBefore(s,f),u&&h==e.widgets.length&&(o=i,i.className=e.wrapClass||"")}if(o||(o=rr("div",null,e.wrapClass,"position: relative"),o.appendChild(s)),e.bgClass&&o.insertBefore(rr("div",null,e.bgClass+" CodeMirror-linebackground"),o.firstChild),t.options.lineNumbers||a){var m=o.insertBefore(rr("div",null,null,"position: absolute; left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px"),o.firstChild);if(t.options.fixedGutter&&(o.alignable||(o.alignable=[])).push(m),!t.options.lineNumbers||a&&a["CodeMirror-linenumbers"]||(o.lineNumber=m.appendChild(rr("div",v(t.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+l.lineNumInnerWidth+"px"))),a)for(var y=0;y<t.options.gutters.length;++y){var b=t.options.gutters[y],k=a.hasOwnProperty(b)&&a[b];k&&m.appendChild(rr("div",[k],"CodeMirror-gutter-elt","left: "+r.gutterLeft[b]+"px; width: "+r.gutterWidth[b]+"px"))}}if(Sr&&(o.style.zIndex=2),e.widgets&&o!=i)for(var p=0,w=e.widgets;p<w.length;++p){var g=w[p],x=rr("div",[g.node],"CodeMirror-linewidget");g.handleMouseEvents||(x.ignoreEvents=!0),T(g,x,o,r),g.above?o.insertBefore(x,t.options.lineNumbers&&0!=e.height?m:s):o.appendChild(x),jn(g,"redraw")}return o}function T(t,e,n,r){if(t.noHScroll){(n.alignable||(n.alignable=[])).push(e);var i=r.wrapperWidth;e.style.left=r.fixedPos+"px",t.coverGutter||(i-=r.gutterTotalWidth,e.style.paddingLeft=r.gutterTotalWidth+"px"),e.style.width=i+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-r.gutterTotalWidth+"px"))}function M(t){var e=t.display,n=Ut(t.doc.sel.from,t.doc.sel.to);if(n||t.options.showCursorWhenSelecting?A(t):e.cursor.style.display=e.otherCursor.style.display="none",n?e.selectionDiv.style.display="none":E(t),t.options.moveInputWithCursor){var r=Q(t,t.doc.sel.head,"div"),i=ar(e.wrapper),o=ar(e.lineDiv);e.inputDiv.style.top=Math.max(0,Math.min(e.wrapper.clientHeight-10,r.top+o.top-i.top))+"px",e.inputDiv.style.left=Math.max(0,Math.min(e.wrapper.clientWidth-10,r.left+o.left-i.left))+"px"}}function A(t){var e=t.display,n=Q(t,t.doc.sel.head,"div");e.cursor.style.left=n.left+"px",e.cursor.style.top=n.top+"px",e.cursor.style.height=Math.max(0,n.bottom-n.top)*t.options.cursorHeight+"px",e.cursor.style.display="",n.other?(e.otherCursor.style.display="",e.otherCursor.style.left=n.other.left+"px",e.otherCursor.style.top=n.other.top+"px",e.otherCursor.style.height=.85*(n.other.bottom-n.other.top)+"px"):e.otherCursor.style.display="none"}function E(t){function e(t,e,n,r){0>e&&(e=0),s.appendChild(rr("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px; top: "+e+"px; width: "+(null==n?a-t:n)+"px; height: "+(r-e)+"px"))}function n(n,r,o){function s(e,r){return Y(t,qt(n,e),"div",h,r)}var c,u,h=hn(i,n),f=h.text.length;return hr(yn(h),r||0,null==o?f:o,function(t,n,i){var h,d,p,g=s(t,"left");if(t==n)h=g,d=p=g.left;else{if(h=s(n-1,"right"),"rtl"==i){var m=g;g=h,h=m}d=g.left,p=h.right}null==r&&0==t&&(d=l),h.top-g.top>3&&(e(d,g.top,null,g.bottom),d=l,g.bottom<h.top&&e(d,g.bottom,null,h.top)),null==o&&n==f&&(p=a),(!c||g.top<c.top||g.top==c.top&&g.left<c.left)&&(c=g),(!u||h.bottom>u.bottom||h.bottom==u.bottom&&h.right>u.right)&&(u=h),l+1>d&&(d=l),e(d,h.top,p-d,h.bottom)}),{start:c,end:u}}var r=t.display,i=t.doc,o=t.doc.sel,s=document.createDocumentFragment(),a=r.lineSpace.offsetWidth,l=R(t.display);if(o.from.line==o.to.line)n(o.from.line,o.from.ch,o.to.ch);else{var c=hn(i,o.from.line),u=hn(i,o.to.line),h=Re(i,c)==Re(i,u),f=n(o.from.line,o.from.ch,h?c.text.length:null).end,d=n(o.to.line,h?0:null,o.to.ch).start;h&&(f.top<d.top-2?(e(f.right,f.top,null,f.bottom),e(l,d.top,d.left,d.bottom)):e(f.right,f.top,d.left-f.right,f.bottom)),f.bottom<d.top&&e(l,f.bottom,null,d.top)}or(r.selectionDiv,s),r.selectionDiv.style.display=""}function N(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var n=!0;e.cursor.style.visibility=e.otherCursor.style.visibility="",e.blinker=setInterval(function(){e.cursor.style.visibility=e.otherCursor.style.visibility=(n=!n)?"":"hidden"},t.options.cursorBlinkRate)}}function $(t,e){t.doc.mode.startState&&t.doc.frontier<t.display.showingTo&&t.state.highlight.set(e,tr(O,t))}function O(t){var e=t.doc;if(e.frontier<e.first&&(e.frontier=e.first),!(e.frontier>=t.display.showingTo)){var n,r=+new Date+t.options.workTime,i=me(e.mode,I(t,e.frontier)),o=[];e.iter(e.frontier,Math.min(e.first+e.size,t.display.showingTo+500),function(s){if(e.frontier>=t.display.showingFrom){var a=s.styles;s.styles=Xe(t,s,i);for(var l=!a||a.length!=s.styles.length,c=0;!l&&c<a.length;++c)l=a[c]!=s.styles[c];l&&(n&&n.end==e.frontier?n.end++:o.push(n={start:e.frontier,end:e.frontier+1})),s.stateAfter=me(e.mode,i)}else Qe(t,s,i),s.stateAfter=e.frontier%5==0?me(e.mode,i):null;return++e.frontier,+new Date>r?($(t,t.options.workDelay),!0):void 0}),o.length&&ot(t,function(){for(var t=0;t<o.length;++t)lt(this,o[t].start,o[t].end)})()}}function D(t,e,n){for(var r,i,o=t.doc,s=e,a=e-100;s>a;--s){if(s<=o.first)return o.first;var l=hn(o,s-1);if(l.stateAfter&&(!n||s<=o.frontier))return s;var c=Vn(l.text,null,t.options.tabSize);(null==i||r>c)&&(i=s-1,r=c)}return i}function I(t,e,n){var r=t.doc,i=t.display;if(!r.mode.startState)return!0;var o=D(t,e,n),s=o>r.first&&hn(r,o-1).stateAfter;return s=s?me(r.mode,s):ve(r.mode),r.iter(o,e,function(n){Qe(t,n,s);var a=o==e-1||o%5==0||o>=i.showingFrom&&o<i.showingTo;n.stateAfter=a?me(r.mode,s):null,++o}),s}function H(t){return t.lineSpace.offsetTop}function W(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function R(t){var e=or(t.measure,rr("pre",null,null,"text-align: left")).appendChild(rr("span","x"));return e.offsetLeft}function P(t,e,n,r,i){var o=-1;r=r||F(t,e);for(var s=n;;s+=o){var a=r[s];if(a)break;0>o&&0==s&&(o=1)}return i=s>n?"left":n>s?"right":i,"left"==i&&a.leftSide?a=a.leftSide:"right"==i&&a.rightSide&&(a=a.rightSide),{left:n>s?a.right:a.left,right:s>n?a.left:a.right,top:a.top,bottom:a.bottom}}function j(t,e){for(var n=t.display.measureLineCache,r=0;r<n.length;++r){var i=n[r];if(i.text==e.text&&i.markedSpans==e.markedSpans&&t.display.scroller.clientWidth==i.width&&i.classes==e.textClass+"|"+e.bgClass+"|"+e.wrapClass)return i}}function z(t,e){var n=j(t,e);n&&(n.text=n.measure=n.markedSpans=null)}function F(t,e){var n=j(t,e);if(n)return n.measure;var r=B(t,e),i=t.display.measureLineCache,o={text:e.text,width:t.display.scroller.clientWidth,markedSpans:e.markedSpans,measure:r,classes:e.textClass+"|"+e.bgClass+"|"+e.wrapClass};return 16==i.length?i[++t.display.measureLineCachePos%16]=o:i.push(o),r}function B(t,e){function n(t){var e=t.top-p.top,n=t.bottom-p.top;n>v&&(n=v),0>e&&(e=0);for(var r=g.length-2;r>=0;r-=2){var i=g[r],o=g[r+1];if(!(i>n||e>o)&&(e>=i&&o>=n||i>=e&&n>=o||Math.min(n,o)-Math.max(e,i)>=n-e>>1)){g[r]=Math.min(e,i),g[r+1]=Math.max(n,o);break}}return 0>r&&(r=g.length,g.push(e,n)),{left:t.left-p.left,right:t.right-p.left,top:r,bottom:null}}function r(t){t.bottom=g[t.top+1],t.top=g[t.top]}var i=t.display,o=Zn(e.text.length),s=Ze(t,e,o,!0);if(_r&&!Sr&&!t.options.lineWrapping&&s.childNodes.length>100){for(var a=document.createDocumentFragment(),l=10,c=s.childNodes.length,u=0,h=Math.ceil(c/l);h>u;++u){for(var f=rr("div",null,null,"display: inline-block"),d=0;l>d&&c;++d)f.appendChild(s.firstChild),--c;a.appendChild(f)}s.appendChild(a)}or(i.measure,s);var p=ar(i.lineDiv),g=[],m=Zn(e.text.length),v=s.offsetHeight;Lr&&i.measure.first!=s&&or(i.measure,s);for(var y,u=0;u<o.length;++u)if(y=o[u]){var b=y,k=null;if(/\bCodeMirror-widget\b/.test(y.className)&&y.getClientRects){1==y.firstChild.nodeType&&(b=y.firstChild);var w=b.getClientRects();w.length>1&&(k=m[u]=n(w[0]),k.rightSide=n(w[w.length-1]))}k||(k=m[u]=n(ar(b))),y.measureRight&&(k.right=ar(y.measureRight).left),y.leftSide&&(k.leftSide=n(ar(y.leftSide)))}for(var y,u=0;u<m.length;++u)(y=m[u])&&(r(y),y.leftSide&&r(y.leftSide),y.rightSide&&r(y.rightSide));return m}function q(t,e){var n=!1;if(e.markedSpans)for(var r=0;r<e.markedSpans;++r){var i=e.markedSpans[r];!i.collapsed||null!=i.to&&i.to!=e.text.length||(n=!0)}var o=!n&&j(t,e);if(o)return P(t,e,e.text.length,o.measure,"right").right;var s=Ze(t,e,null,!0),a=s.appendChild(ur(t.display.measure));return or(t.display.measure,s),ar(a).right-ar(t.display.lineDiv).left}function U(t){t.display.measureLineCache.length=t.display.measureLineCachePos=0,t.display.cachedCharWidth=t.display.cachedTextHeight=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function V(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function G(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function K(t,e,n,r){if(e.widgets)for(var i=0;i<e.widgets.length;++i)if(e.widgets[i].above){var o=qe(e.widgets[i]);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var s=vn(t,e);if("local"==r?s+=H(t.display):s-=t.display.viewOffset,"page"==r||"window"==r){var a=ar(t.display.lineSpace);s+=a.top+("window"==r?0:G());var l=a.left+("window"==r?0:V());n.left+=l,n.right+=l}return n.top+=s,n.bottom+=s,n}function X(t,e,n){if("div"==n)return e;var r=e.left,i=e.top;if("page"==n)r-=V(),i-=G();else if("local"==n||!n){var o=ar(t.display.sizer);r+=o.left,i+=o.top}var s=ar(t.display.lineSpace);return{left:r-s.left,top:i-s.top}}function Y(t,e,n,r,i){return r||(r=hn(t.doc,e.line)),K(t,r,P(t,r,e.ch,null,i),n)}function Q(t,e,n,r,i){function o(e,o){var s=P(t,r,e,i,o?"right":"left");return o?s.left=s.right:s.right=s.left,K(t,r,s,n)}function s(t,e){var n=a[e],r=n.level%2;return t==fr(n)&&e&&n.level<a[e-1].level?(n=a[--e],t=dr(n)-(n.level%2?0:1),r=!0):t==dr(n)&&e<a.length-1&&n.level<a[e+1].level&&(n=a[++e],t=fr(n)-n.level%2,r=!1),r&&t==n.to&&t>n.from?o(t-1):o(t,r)}r=r||hn(t.doc,e.line),i||(i=F(t,r));var a=yn(r),l=e.ch;if(!a)return o(l);var c=br(a,l),u=s(l,c);return null!=Di&&(u.other=s(l,Di)),u}function J(t,e,n,r){var i=new qt(t,e);return i.xRel=r,n&&(i.outside=!0),i}function Z(t,e,n){var r=t.doc;if(n+=t.display.viewOffset,0>n)return J(r.first,0,!0,-1);var i=mn(r,n),o=r.first+r.size-1;if(i>o)return J(r.first+r.size-1,hn(r,o).text.length,!0,1);for(0>e&&(e=0);;){var s=hn(r,i),a=tt(t,s,i,e,n),l=We(s),c=l&&l.find();if(!l||!(a.ch>c.from.ch||a.ch==c.from.ch&&a.xRel>0))return a;i=c.to.line}}function tt(t,e,n,r,i){function o(r){var i=Q(t,qt(n,r),"line",e,c);return a=!0,s>i.bottom?i.left-l:s<i.top?i.left+l:(a=!1,i.left)}var s=i-vn(t,e),a=!1,l=2*t.display.wrapper.clientWidth,c=F(t,e),u=yn(e),h=e.text.length,f=pr(e),d=gr(e),p=o(f),g=a,m=o(d),v=a;if(r>m)return J(n,d,v,1);for(;;){if(u?d==f||d==wr(e,f,1):1>=d-f){for(var y=p>r||m-r>=r-p?f:d,b=r-(y==f?p:m);Li.test(e.text.charAt(y));)++y;var k=J(n,y,y==f?g:v,0>b?-1:b?1:0);return k}var w=Math.ceil(h/2),x=f+w;if(u){x=f;for(var C=0;w>C;++C)x=wr(e,x,1)}var _=o(x);_>r?(d=x,m=_,(v=a)&&(m+=1e3),h=w):(f=x,p=_,g=a,h-=w)}}function et(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==zr){zr=rr("pre");for(var e=0;49>e;++e)zr.appendChild(document.createTextNode("x")),zr.appendChild(rr("br"));zr.appendChild(document.createTextNode("x"))}or(t.measure,zr);var n=zr.offsetHeight/50;return n>3&&(t.cachedTextHeight=n),ir(t.measure),n||1}function nt(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=rr("span","x"),n=rr("pre",[e]);or(t.measure,n);var r=e.offsetWidth;return r>2&&(t.cachedCharWidth=r),r||10}function rt(t){t.curOp={changes:[],forceUpdate:!1,updateInput:null,userSelChange:null,textChanged:null,selectionChanged:!1,cursorActivity:!1,updateMaxLine:!1,updateScrollPos:!1,id:++Kr},wi++||(ki=[])}function it(t){var e=t.curOp,n=t.doc,r=t.display;if(t.curOp=null,e.updateMaxLine&&h(t),r.maxLineChanged&&!t.options.lineWrapping&&r.maxLine){var i=q(t,r.maxLine);r.sizer.style.minWidth=Math.max(0,i+3+xi)+"px",r.maxLineChanged=!1;var o=Math.max(0,r.sizer.offsetLeft+r.sizer.offsetWidth-r.scroller.clientWidth);o<n.scrollLeft&&!e.updateScrollPos&&Ct(t,Math.min(r.scroller.scrollLeft,o),!0)}var s,a;if(e.updateScrollPos)s=e.updateScrollPos;else if(e.selectionChanged&&r.scroller.clientHeight){var l=Q(t,n.sel.head);s=se(t,l.left,l.top,l.left,l.bottom)}(e.changes.length||e.forceUpdate||s&&null!=s.scrollTop)&&(a=b(t,e.changes,s&&s.scrollTop,e.forceUpdate),t.display.scroller.offsetHeight&&(t.doc.scrollTop=t.display.scroller.scrollTop)),!a&&e.selectionChanged&&M(t),e.updateScrollPos?(r.scroller.scrollTop=r.scrollbarV.scrollTop=n.scrollTop=s.scrollTop,r.scroller.scrollLeft=r.scrollbarH.scrollLeft=n.scrollLeft=s.scrollLeft,g(t),e.scrollToPos&&ie(t,Xt(t.doc,e.scrollToPos),e.scrollToPosMargin)):s&&re(t),e.selectionChanged&&N(t),t.state.focused&&e.updateInput&&ft(t,e.userSelChange);var c=e.maybeHiddenMarkers,u=e.maybeUnhiddenMarkers;if(c)for(var f=0;f<c.length;++f)c[f].lines.length||Pn(c[f],"hide");if(u)for(var f=0;f<u.length;++f)u[f].lines.length&&Pn(u[f],"unhide");var d;if(--wi||(d=ki,ki=null),e.textChanged&&Pn(t,"change",t,e.textChanged),e.cursorActivity&&Pn(t,"cursorActivity",t),d)for(var f=0;f<d.length;++f)d[f]()}function ot(t,e){return function(){var n=t||this,r=!n.curOp;r&&rt(n);try{var i=e.apply(n,arguments)}finally{r&&it(n)}return i}}function st(t){return function(){var e,n=this.cm&&!this.cm.curOp;n&&rt(this.cm);try{e=t.apply(this,arguments)}finally{n&&it(this.cm)}return e}}function at(t,e){var n,r=!t.curOp;r&&rt(t);try{n=e()}finally{r&&it(t)}return n}function lt(t,e,n,r){null==e&&(e=t.doc.first),null==n&&(n=t.doc.first+t.doc.size),t.curOp.changes.push({from:e,to:n,diff:r})}function ct(t){t.display.pollingFast||t.display.poll.set(t.options.pollInterval,function(){ht(t),t.state.focused&&ct(t)})}function ut(t){function e(){var r=ht(t);r||n?(t.display.pollingFast=!1,ct(t)):(n=!0,t.display.poll.set(60,e))}var n=!1;t.display.pollingFast=!0,t.display.poll.set(20,e)}function ht(t){var e=t.display.input,n=t.display.prevInput,r=t.doc,i=r.sel;if(!t.state.focused||Ni(e)||pt(t)||t.state.disableInput)return!1;var o=e.value;if(o==n&&Ut(i.from,i.to))return!1;if(_r&&!Lr&&t.display.inputHasSelection===o)return ft(t,!0),!1;var s=!t.curOp;s&&rt(t),i.shift=!1;for(var a=0,l=Math.min(n.length,o.length);l>a&&n.charCodeAt(a)==o.charCodeAt(a);)++a;var c=i.from,u=i.to;a<n.length?c=qt(c.line,c.ch-(n.length-a)):t.state.overwrite&&Ut(c,u)&&!t.state.pasteIncoming&&(u=qt(u.line,Math.min(hn(r,u.line).text.length,u.ch+(o.length-a))));var h=t.curOp.updateInput,f={from:c,to:u,text:Ei(o.slice(a)),origin:t.state.pasteIncoming?"paste":"+input"};return Wt(t.doc,f,"end"),t.curOp.updateInput=h,jn(t,"inputRead",t,f),o.length>1e3||o.indexOf("\n")>-1?e.value=t.display.prevInput="":t.display.prevInput=o,s&&it(t),t.state.pasteIncoming=!1,!0}function ft(t,e){var n,r,i=t.doc;if(Ut(i.sel.from,i.sel.to))e&&(t.display.prevInput=t.display.input.value="",_r&&!Lr&&(t.display.inputHasSelection=null));else{t.display.prevInput="",n=$i&&(i.sel.to.line-i.sel.from.line>100||(r=t.getSelection()).length>1e3);var o=n?"-":r||t.getSelection();t.display.input.value=o,t.state.focused&&Xn(t.display.input),_r&&!Lr&&(t.display.inputHasSelection=o)}t.display.inaccurateSelection=n}function dt(t){"nocursor"==t.options.readOnly||Wr&&document.activeElement==t.display.input||t.display.input.focus()}function pt(t){return t.options.readOnly||t.doc.cantEdit}function gt(t){function e(){t.state.focused&&setTimeout(tr(dt,t),0)}function n(){null==a&&(a=setTimeout(function(){a=null,s.cachedCharWidth=s.cachedTextHeight=Mi=null,U(t),at(t,tr(lt,t))},100))}function r(){for(var t=s.wrapper.parentNode;t&&t!=document.body;t=t.parentNode);t?setTimeout(r,5e3):Rn(window,"resize",n)}function i(e){zn(t,e)||t.options.onDragEvent&&t.options.onDragEvent(t,En(e))||Dn(e)}function o(){s.inaccurateSelection&&(s.prevInput="",s.inaccurateSelection=!1,s.input.value=t.getSelection(),Xn(s.input))}var s=t.display;Wn(s.scroller,"mousedown",ot(t,yt)),_r?Wn(s.scroller,"dblclick",ot(t,function(e){if(!zn(t,e)){var n=vt(t,e);if(n&&!bt(t,e)&&!mt(t.display,e)){Nn(e);var r=de(hn(t.doc,n.line).text,n);Jt(t.doc,r.from,r.to)}}})):Wn(s.scroller,"dblclick",function(e){zn(t,e)||Nn(e)}),Wn(s.lineSpace,"selectstart",function(t){mt(s,t)||Nn(t)}),Ur||Wn(s.scroller,"contextmenu",function(e){Ot(t,e)}),Wn(s.scroller,"scroll",function(){s.scroller.clientHeight&&(xt(t,s.scroller.scrollTop),Ct(t,s.scroller.scrollLeft,!0),Pn(t,"scroll",t))}),Wn(s.scrollbarV,"scroll",function(){s.scroller.clientHeight&&xt(t,s.scrollbarV.scrollTop)}),Wn(s.scrollbarH,"scroll",function(){s.scroller.clientHeight&&Ct(t,s.scrollbarH.scrollLeft)}),Wn(s.scroller,"mousewheel",function(e){_t(t,e)}),Wn(s.scroller,"DOMMouseScroll",function(e){_t(t,e)}),Wn(s.scrollbarH,"mousedown",e),Wn(s.scrollbarV,"mousedown",e),Wn(s.wrapper,"scroll",function(){s.wrapper.scrollTop=s.wrapper.scrollLeft=0});var a;Wn(window,"resize",n),setTimeout(r,5e3),Wn(s.input,"keyup",ot(t,function(e){zn(t,e)||t.options.onKeyEvent&&t.options.onKeyEvent(t,En(e))||16==e.keyCode&&(t.doc.sel.shift=!1)})),Wn(s.input,"input",tr(ut,t)),Wn(s.input,"keydown",ot(t,At)),Wn(s.input,"keypress",ot(t,Et)),Wn(s.input,"focus",tr(Nt,t)),Wn(s.input,"blur",tr($t,t)),t.options.dragDrop&&(Wn(s.scroller,"dragstart",function(e){wt(t,e)}),Wn(s.scroller,"dragenter",i),Wn(s.scroller,"dragover",i),Wn(s.scroller,"drop",ot(t,kt))),Wn(s.scroller,"paste",function(e){mt(s,e)||(dt(t),ut(t))}),Wn(s.input,"paste",function(){t.state.pasteIncoming=!0,ut(t)}),Wn(s.input,"cut",o),Wn(s.input,"copy",o),$r&&Wn(s.sizer,"mouseup",function(){document.activeElement==s.input&&s.input.blur(),dt(t)})}function mt(t,e){for(var n=In(e);n!=t.wrapper;n=n.parentNode)if(!n||n.ignoreEvents||n.parentNode==t.sizer&&n!=t.mover)return!0}function vt(t,e,n){var r=t.display;if(!n){var i=In(e);if(i==r.scrollbarH||i==r.scrollbarH.firstChild||i==r.scrollbarV||i==r.scrollbarV.firstChild||i==r.scrollbarFiller||i==r.gutterFiller)return null}var o,s,a=ar(r.lineSpace);try{o=e.clientX,s=e.clientY}catch(e){return null}return Z(t,o-a.left,s-a.top)}function yt(t){function e(t){if(!Ut(v,t)){if(v=t,"single"==u)return void Jt(i.doc,Xt(s,l),t);if(g=Xt(s,g),m=Xt(s,m),"double"==u){var e=de(hn(s,t.line).text,t);Vt(t,g)?Jt(i.doc,e.from,m):Jt(i.doc,g,e.to)}else"triple"==u&&(Vt(t,g)?Jt(i.doc,m,Xt(s,qt(t.line,0))):Jt(i.doc,g,Xt(s,qt(t.line+1,0))))}}function n(t){var r=++b,a=vt(i,t,!0);if(a)if(Ut(a,f)){var l=t.clientY<y.top?-20:t.clientY>y.bottom?20:0;l&&setTimeout(ot(i,function(){b==r&&(o.scroller.scrollTop+=l,n(t))}),50)}else{i.state.focused||Nt(i),f=a,e(a);var c=p(o,s);(a.line>=c.to||a.line<c.from)&&setTimeout(ot(i,function(){b==r&&n(t)}),150)}}function r(t){b=1/0,Nn(t),dt(i),Rn(document,"mousemove",k),Rn(document,"mouseup",w)}if(!zn(this,t)){var i=this,o=i.display,s=i.doc,a=s.sel;if(a.shift=t.shiftKey,mt(o,t))return void(Tr||(o.scroller.draggable=!1,setTimeout(function(){o.scroller.draggable=!0},100)));if(!bt(i,t)){var l=vt(i,t);switch(Hn(t)){case 3:return void(Ur&&Ot.call(i,i,t));case 2:return l&&Jt(i.doc,l),setTimeout(tr(dt,i),20),void Nn(t)}if(!l)return void(In(t)==o.scroller&&Nn(t));i.state.focused||Nt(i);var c=+new Date,u="single";if(Br&&Br.time>c-400&&Ut(Br.pos,l))u="triple",Nn(t),setTimeout(tr(dt,i),20),pe(i,l.line);else if(Fr&&Fr.time>c-400&&Ut(Fr.pos,l)){u="double",Br={time:c,pos:l},Nn(t);var h=de(hn(s,l.line).text,l);Jt(i.doc,h.from,h.to)}else Fr={time:c,pos:l};var f=l;if(i.options.dragDrop&&Ti&&!pt(i)&&!Ut(a.from,a.to)&&!Vt(l,a.from)&&!Vt(a.to,l)&&"single"==u){var d=ot(i,function(e){Tr&&(o.scroller.draggable=!1),i.state.draggingText=!1,Rn(document,"mouseup",d),Rn(o.scroller,"drop",d),Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)<10&&(Nn(e),Jt(i.doc,l),dt(i))});return Tr&&(o.scroller.draggable=!0),i.state.draggingText=d,o.scroller.dragDrop&&o.scroller.dragDrop(),Wn(document,"mouseup",d),void Wn(o.scroller,"drop",d)}Nn(t),"single"==u&&Jt(i.doc,Xt(s,l));var g=a.from,m=a.to,v=l,y=ar(o.wrapper),b=0,k=ot(i,function(t){_r||Hn(t)?n(t):r(t)}),w=ot(i,r);Wn(document,"mousemove",k),Wn(document,"mouseup",w)}}}function bt(t,e){var n=t.display;try{var r=e.clientX,i=e.clientY}catch(e){return!1}if(r>=Math.floor(ar(n.gutters).right))return!1;if(Nn(e),!Bn(t,"gutterClick"))return!0;var o=ar(n.lineDiv);if(i>o.bottom)return!0;i-=o.top-n.viewOffset;for(var s=0;s<t.options.gutters.length;++s){var a=n.gutters.childNodes[s];if(a&&ar(a).right>=r){var l=mn(t.doc,i),c=t.options.gutters[s];jn(t,"gutterClick",t,l,c,e);break}}return!0}function kt(t){var e=this;if(!(zn(e,t)||mt(e.display,t)||e.options.onDragEvent&&e.options.onDragEvent(e,En(t)))){Nn(t),_r&&(Xr=+new Date);var n=vt(e,t,!0),r=t.dataTransfer.files;if(n&&!pt(e))if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),s=0,a=function(t,r){var a=new FileReader;a.onload=function(){o[r]=a.result,++s==i&&(n=Xt(e.doc,n),Wt(e.doc,{from:n,to:n,text:Ei(o.join("\n")),origin:"paste"},"around"))},a.readAsText(t)},l=0;i>l;++l)a(r[l],l);else{if(e.state.draggingText&&!Vt(n,e.doc.sel.from)&&!Vt(e.doc.sel.to,n))return e.state.draggingText(t),void setTimeout(tr(dt,e),20);try{var o=t.dataTransfer.getData("Text");if(o){var c=e.doc.sel.from,u=e.doc.sel.to;te(e.doc,n,n),e.state.draggingText&&Bt(e.doc,"",c,u,"paste"),e.replaceSelection(o,null,"paste"),dt(e),Nt(e)}}catch(t){}}}}function wt(t,e){if(_r&&(!t.state.draggingText||+new Date-Xr<100))return void Dn(e);if(!zn(t,e)&&!mt(t.display,e)){var n=t.getSelection();if(e.dataTransfer.setData("Text",n),e.dataTransfer.setDragImage&&!Nr){var r=rr("img",null,null,"position: fixed; left: 0; top: 0;");Er&&(r.width=r.height=1,t.display.wrapper.appendChild(r),r._top=r.offsetTop),e.dataTransfer.setDragImage(r,0,0),Er&&r.parentNode.removeChild(r)}}}function xt(t,e){Math.abs(t.doc.scrollTop-e)<2||(t.doc.scrollTop=e,Cr||b(t,[],e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e),t.display.scrollbarV.scrollTop!=e&&(t.display.scrollbarV.scrollTop=e),Cr&&b(t,[]),$(t,100))}function Ct(t,e,n){(n?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)||(e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),t.doc.scrollLeft=e,g(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbarH.scrollLeft!=e&&(t.display.scrollbarH.scrollLeft=e))}function _t(t,e){var n=e.wheelDeltaX,r=e.wheelDeltaY;null==n&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(n=e.detail),null==r&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:null==r&&(r=e.wheelDelta);var i=t.display,o=i.scroller;if(n&&o.scrollWidth>o.clientWidth||r&&o.scrollHeight>o.clientHeight){if(r&&Rr&&Tr)for(var s=e.target;s!=o;s=s.parentNode)if(s.lineObj){t.display.currentWheelTarget=s;break}if(n&&!Cr&&!Er&&null!=Qr)return r&&xt(t,Math.max(0,Math.min(o.scrollTop+r*Qr,o.scrollHeight-o.clientHeight))),Ct(t,Math.max(0,Math.min(o.scrollLeft+n*Qr,o.scrollWidth-o.clientWidth))),Nn(e),void(i.wheelStartX=null);if(r&&null!=Qr){var a=r*Qr,l=t.doc.scrollTop,c=l+i.wrapper.clientHeight;0>a?l=Math.max(0,l+a-50):c=Math.min(t.doc.height,c+a+50),b(t,[],{top:l,bottom:c})}20>Yr&&(null==i.wheelStartX?(i.wheelStartX=o.scrollLeft,i.wheelStartY=o.scrollTop,i.wheelDX=n,i.wheelDY=r,setTimeout(function(){if(null!=i.wheelStartX){var t=o.scrollLeft-i.wheelStartX,e=o.scrollTop-i.wheelStartY,n=e&&i.wheelDY&&e/i.wheelDY||t&&i.wheelDX&&t/i.wheelDX;i.wheelStartX=i.wheelStartY=null,n&&(Qr=(Qr*Yr+n)/(Yr+1),++Yr)}},200)):(i.wheelDX+=n,i.wheelDY+=r))}}function St(t,e,n){if("string"==typeof e&&(e=ui[e],!e))return!1;t.display.pollingFast&&ht(t)&&(t.display.pollingFast=!1);var r=t.doc,i=r.sel.shift,o=!1;try{pt(t)&&(t.state.suppressEdits=!0),n&&(r.sel.shift=!1),o=e(t)!=Ci}finally{r.sel.shift=i,t.state.suppressEdits=!1}return o}function Lt(t){var e=t.state.keyMaps.slice(0);return t.options.extraKeys&&e.push(t.options.extraKeys),e.push(t.options.keyMap),e}function Tt(t,e){var n=ye(t.options.keyMap),r=n.auto;clearTimeout(Jr),r&&!ke(e)&&(Jr=setTimeout(function(){ye(t.options.keyMap)==n&&(t.options.keyMap=r.call?r.call(null,t):r,s(t))},50));var i=we(e,!0),o=!1;if(!i)return!1;var a=Lt(t);return o=e.shiftKey?be("Shift-"+i,a,function(e){return St(t,e,!0)})||be(i,a,function(e){return("string"==typeof e?/^go[A-Z]/.test(e):e.motion)?St(t,e):void 0}):be(i,a,function(e){return St(t,e)}),o&&(Nn(e),N(t),Lr&&(e.oldKeyCode=e.keyCode,e.keyCode=0),jn(t,"keyHandled",t,i,e)),o}function Mt(t,e,n){var r=be("'"+n+"'",Lt(t),function(e){return St(t,e,!0)});return r&&(Nn(e),N(t),jn(t,"keyHandled",t,"'"+n+"'",e)),r}function At(t){var e=this;if(e.state.focused||Nt(e),_r&&27==t.keyCode&&(t.returnValue=!1),!(zn(e,t)||e.options.onKeyEvent&&e.options.onKeyEvent(e,En(t)))){var n=t.keyCode;e.doc.sel.shift=16==n||t.shiftKey;var r=Tt(e,t);Er&&(ti=r?n:null,!r&&88==n&&!$i&&(Rr?t.metaKey:t.ctrlKey)&&e.replaceSelection(""))}}function Et(t){var e=this;if(!(zn(e,t)||e.options.onKeyEvent&&e.options.onKeyEvent(e,En(t)))){var n=t.keyCode,r=t.charCode;if(Er&&n==ti)return ti=null,void Nn(t);if(!(Er&&(!t.which||t.which<10)||$r)||!Tt(e,t)){var i=String.fromCharCode(null==r?n:r);this.options.electricChars&&this.doc.mode.electricChars&&this.options.smartIndent&&!pt(this)&&this.doc.mode.electricChars.indexOf(i)>-1&&setTimeout(ot(e,function(){ce(e,e.doc.sel.to.line,"smart")}),75),Mt(e,t,i)||(_r&&!Lr&&(e.display.inputHasSelection=null),ut(e))}}}function Nt(t){"nocursor"!=t.options.readOnly&&(t.state.focused||(Pn(t,"focus",t),t.state.focused=!0,-1==t.display.wrapper.className.search(/\bCodeMirror-focused\b/)&&(t.display.wrapper.className+=" CodeMirror-focused"),ft(t,!0)),ct(t),N(t))}function $t(t){t.state.focused&&(Pn(t,"blur",t),t.state.focused=!1,t.display.wrapper.className=t.display.wrapper.className.replace(" CodeMirror-focused","")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.doc.sel.shift=!1)},150)}function Ot(t,e){function n(){if(null!=i.input.selectionStart){var t=i.input.value=" "+(Ut(o.from,o.to)?"":i.input.value);i.prevInput=" ",i.input.selectionStart=1,i.input.selectionEnd=t.length}}function r(){if(i.inputDiv.style.position="relative",i.input.style.cssText=l,Lr&&(i.scrollbarV.scrollTop=i.scroller.scrollTop=a),ct(t),null!=i.input.selectionStart){(!_r||Lr)&&n(),clearTimeout(Zr);var e=0,r=function(){" "==i.prevInput&&0==i.input.selectionStart?ot(t,ui.selectAll)(t):e++<10?Zr=setTimeout(r,500):ft(t)};Zr=setTimeout(r,200)}}if(!zn(t,e,"contextmenu")){var i=t.display,o=t.doc.sel;if(!mt(i,e)){var s=vt(t,e),a=i.scroller.scrollTop;if(s&&!Er){(Ut(o.from,o.to)||Vt(s,o.from)||!Vt(s,o.to))&&ot(t,te)(t.doc,s,s);var l=i.input.style.cssText;if(i.inputDiv.style.position="absolute",i.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: white; outline: none;border-width: 0; outline: none; overflow: hidden; opacity: .05; -ms-opacity: .05; filter: alpha(opacity=5);",dt(t),ft(t,!0),Ut(o.from,o.to)&&(i.input.value=i.prevInput=" "),_r&&!Lr&&n(),Ur){Dn(e);var c=function(){Rn(window,"mouseup",c),setTimeout(r,20)};Wn(window,"mouseup",c)}else setTimeout(r,50)}}}}function Dt(t,e,n){if(!Vt(e.from,n))return Xt(t,n);var r=e.text.length-1-(e.to.line-e.from.line);if(n.line>e.to.line+r){var i=n.line-r,o=t.first+t.size-1;return i>o?qt(o,hn(t,o).text.length):Yt(n,hn(t,i).text.length)}if(n.line==e.to.line+r)return Yt(n,Kn(e.text).length+(1==e.text.length?e.from.ch:0)+hn(t,e.to.line).text.length-e.to.ch);var s=n.line-e.from.line;return Yt(n,e.text[s].length+(s?0:e.from.ch))}function It(t,e,n){if(n&&"object"==typeof n)return{anchor:Dt(t,e,n.anchor),head:Dt(t,e,n.head)};if("start"==n)return{anchor:e.from,head:e.from};var r=ei(e);if("around"==n)return{anchor:e.from,head:r};if("end"==n)return{anchor:r,head:r};var i=function(t){if(Vt(t,e.from))return t;if(!Vt(e.to,t))return r;var n=t.line+e.text.length-(e.to.line-e.from.line)-1,i=t.ch;return t.line==e.to.line&&(i+=r.ch-e.to.ch),qt(n,i)};return{anchor:i(t.sel.anchor),head:i(t.sel.head)}}function Ht(t,e,n){var r={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){this.canceled=!0}};return n&&(r.update=function(e,n,r,i){e&&(this.from=Xt(t,e)),n&&(this.to=Xt(t,n)),r&&(this.text=r),void 0!==i&&(this.origin=i)}),Pn(t,"beforeChange",t,r),t.cm&&Pn(t.cm,"beforeChange",t.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function Wt(t,e,n,r){if(t.cm){if(!t.cm.curOp)return ot(t.cm,Wt)(t,e,n,r);if(t.cm.state.suppressEdits)return}if(!(Bn(t,"beforeChange")||t.cm&&Bn(t.cm,"beforeChange"))||(e=Ht(t,e,!0))){var i=Vr&&!r&&De(t,e.from,e.to);if(i){for(var o=i.length-1;o>=1;--o)Rt(t,{from:i[o].from,to:i[o].to,text:[""]});i.length&&Rt(t,{from:i[0].from,to:i[0].to,text:e.text},n)}else Rt(t,e,n);
}}function Rt(t,e,n){var r=It(t,e,n);xn(t,e,r,t.cm?t.cm.curOp.id:NaN),zt(t,e,r,$e(t,e));var i=[];cn(t,function(t,n){n||-1!=Yn(i,t.history)||(Mn(t.history,e),i.push(t.history)),zt(t,e,null,$e(t,e))})}function Pt(t,e){if(!t.cm||!t.cm.state.suppressEdits){var n=t.history,r=("undo"==e?n.done:n.undone).pop();if(r){var i={changes:[],anchorBefore:r.anchorAfter,headBefore:r.headAfter,anchorAfter:r.anchorBefore,headAfter:r.headBefore,generation:n.generation};("undo"==e?n.undone:n.done).push(i),n.generation=r.generation||++n.maxGeneration;for(var o=Bn(t,"beforeChange")||t.cm&&Bn(t.cm,"beforeChange"),s=r.changes.length-1;s>=0;--s){var a=r.changes[s];if(a.origin=e,o&&!Ht(t,a,!1))return void(("undo"==e?n.done:n.undone).length=0);i.changes.push(wn(t,a));var l=s?It(t,a,null):{anchor:r.anchorBefore,head:r.headBefore};zt(t,a,l,Oe(t,a));var c=[];cn(t,function(t,e){e||-1!=Yn(c,t.history)||(Mn(t.history,a),c.push(t.history)),zt(t,a,null,Oe(t,a))})}}}}function jt(t,e){function n(t){return qt(t.line+e,t.ch)}t.first+=e,t.cm&&lt(t.cm,t.first,t.first,e),t.sel.head=n(t.sel.head),t.sel.anchor=n(t.sel.anchor),t.sel.from=n(t.sel.from),t.sel.to=n(t.sel.to)}function zt(t,e,n,r){if(t.cm&&!t.cm.curOp)return ot(t.cm,zt)(t,e,n,r);if(e.to.line<t.first)return void jt(t,e.text.length-1-(e.to.line-e.from.line));if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var i=e.text.length-1-(t.first-e.from.line);jt(t,i),e={from:qt(t.first,0),to:qt(e.to.line+i,e.to.ch),text:[Kn(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:qt(o,hn(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=fn(t,e.from,e.to),n||(n=It(t,e,null)),t.cm?Ft(t.cm,e,r,n):sn(t,e,r,n)}}function Ft(t,e,n,r){var o=t.doc,s=t.display,a=e.from,l=e.to,c=!1,h=a.line;t.options.lineWrapping||(h=gn(Re(o,hn(o,a.line))),o.iter(h,l.line+1,function(t){return t==s.maxLine?(c=!0,!0):void 0})),Vt(o.sel.head,e.from)||Vt(e.to,o.sel.head)||(t.curOp.cursorActivity=!0),sn(o,e,n,r,i(t)),t.options.lineWrapping||(o.iter(h,a.line+e.text.length,function(t){var e=u(o,t);e>s.maxLineLength&&(s.maxLine=t,s.maxLineLength=e,s.maxLineChanged=!0,c=!1)}),c&&(t.curOp.updateMaxLine=!0)),o.frontier=Math.min(o.frontier,a.line),$(t,400);var f=e.text.length-(l.line-a.line)-1;if(lt(t,a.line,l.line+1,f),Bn(t,"change")){var d={from:a,to:l,text:e.text,removed:e.removed,origin:e.origin};if(t.curOp.textChanged){for(var p=t.curOp.textChanged;p.next;p=p.next);p.next=d}else t.curOp.textChanged=d}}function Bt(t,e,n,r,i){if(r||(r=n),Vt(r,n)){var o=r;r=n,n=o}"string"==typeof e&&(e=Ei(e)),Wt(t,{from:n,to:r,text:e,origin:i},null)}function qt(t,e){return this instanceof qt?(this.line=t,void(this.ch=e)):new qt(t,e)}function Ut(t,e){return t.line==e.line&&t.ch==e.ch}function Vt(t,e){return t.line<e.line||t.line==e.line&&t.ch<e.ch}function Gt(t){return qt(t.line,t.ch)}function Kt(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function Xt(t,e){if(e.line<t.first)return qt(t.first,0);var n=t.first+t.size-1;return e.line>n?qt(n,hn(t,n).text.length):Yt(e,hn(t,e.line).text.length)}function Yt(t,e){var n=t.ch;return null==n||n>e?qt(t.line,e):0>n?qt(t.line,0):t}function Qt(t,e){return e>=t.first&&e<t.first+t.size}function Jt(t,e,n,r){if(t.sel.shift||t.sel.extend){var i=t.sel.anchor;if(n){var o=Vt(e,i);o!=Vt(n,i)?(i=e,e=n):o!=Vt(e,n)&&(e=n)}te(t,i,e,r)}else te(t,e,n||e,r);t.cm&&(t.cm.curOp.userSelChange=!0)}function Zt(t,e,n){var r={anchor:e,head:n};return Pn(t,"beforeSelectionChange",t,r),t.cm&&Pn(t.cm,"beforeSelectionChange",t.cm,r),r.anchor=Xt(t,r.anchor),r.head=Xt(t,r.head),r}function te(t,e,n,r,i){if(!i&&Bn(t,"beforeSelectionChange")||t.cm&&Bn(t.cm,"beforeSelectionChange")){var o=Zt(t,e,n);n=o.head,e=o.anchor}var s=t.sel;if(s.goalColumn=null,(i||!Ut(e,s.anchor))&&(e=ne(t,e,r,"push"!=i)),(i||!Ut(n,s.head))&&(n=ne(t,n,r,"push"!=i)),!Ut(s.anchor,e)||!Ut(s.head,n)){s.anchor=e,s.head=n;var a=Vt(n,e);s.from=a?n:e,s.to=a?e:n,t.cm&&(t.cm.curOp.updateInput=t.cm.curOp.selectionChanged=t.cm.curOp.cursorActivity=!0),jn(t,"cursorActivity",t)}}function ee(t){te(t.doc,t.doc.sel.from,t.doc.sel.to,null,"push")}function ne(t,e,n,r){var i=!1,o=e,s=n||1;t.cantEdit=!1;t:for(;;){var a=hn(t,o.line);if(a.markedSpans)for(var l=0;l<a.markedSpans.length;++l){var c=a.markedSpans[l],u=c.marker;if((null==c.from||(u.inclusiveLeft?c.from<=o.ch:c.from<o.ch))&&(null==c.to||(u.inclusiveRight?c.to>=o.ch:c.to>o.ch))){if(r&&(Pn(u,"beforeCursorEnter"),u.explicitlyCleared)){if(a.markedSpans){--l;continue}break}if(!u.atomic)continue;var h=u.find()[0>s?"from":"to"];if(Ut(h,o)&&(h.ch+=s,h.ch<0?h=h.line>t.first?Xt(t,qt(h.line-1)):null:h.ch>a.text.length&&(h=h.line<t.first+t.size-1?qt(h.line+1,0):null),!h)){if(i)return r?(t.cantEdit=!0,qt(t.first,0)):ne(t,e,n,!0);i=!0,h=e,s=-s}o=h;continue t}}return o}}function re(t){var e=ie(t,t.doc.sel.head,t.options.cursorScrollMargin);if(t.state.focused){var n=t.display,r=ar(n.sizer),i=null;if(e.top+r.top<0?i=!0:e.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!Ir){var o="none"==n.cursor.style.display;o&&(n.cursor.style.display="",n.cursor.style.left=e.left+"px",n.cursor.style.top=e.top-n.viewOffset+"px"),n.cursor.scrollIntoView(i),o&&(n.cursor.style.display="none")}}}function ie(t,e,n){for(null==n&&(n=0);;){var r=!1,i=Q(t,e),o=se(t,i.left,i.top-n,i.left,i.bottom+n),s=t.doc.scrollTop,a=t.doc.scrollLeft;if(null!=o.scrollTop&&(xt(t,o.scrollTop),Math.abs(t.doc.scrollTop-s)>1&&(r=!0)),null!=o.scrollLeft&&(Ct(t,o.scrollLeft),Math.abs(t.doc.scrollLeft-a)>1&&(r=!0)),!r)return i}}function oe(t,e,n,r,i){var o=se(t,e,n,r,i);null!=o.scrollTop&&xt(t,o.scrollTop),null!=o.scrollLeft&&Ct(t,o.scrollLeft)}function se(t,e,n,r,i){var o=t.display,s=et(t.display);0>n&&(n=0);var a=o.scroller.clientHeight-xi,l=o.scroller.scrollTop,c={},u=t.doc.height+W(o),h=s>n,f=i>u-s;if(l>n)c.scrollTop=h?0:n;else if(i>l+a){var d=Math.min(n,(f?u:i)-a);d!=l&&(c.scrollTop=d)}var p=o.scroller.clientWidth-xi,g=o.scroller.scrollLeft;e+=o.gutters.offsetWidth,r+=o.gutters.offsetWidth;var m=o.gutters.offsetWidth,v=m+10>e;return g+m>e||v?(v&&(e=0),c.scrollLeft=Math.max(0,e-10-m)):r>p+g-3&&(c.scrollLeft=r+10-p),c}function ae(t,e,n){t.curOp.updateScrollPos={scrollLeft:null==e?t.doc.scrollLeft:e,scrollTop:null==n?t.doc.scrollTop:n}}function le(t,e,n){var r=t.curOp.updateScrollPos||(t.curOp.updateScrollPos={scrollLeft:t.doc.scrollLeft,scrollTop:t.doc.scrollTop}),i=t.display.scroller;r.scrollTop=Math.max(0,Math.min(i.scrollHeight-i.clientHeight,r.scrollTop+n)),r.scrollLeft=Math.max(0,Math.min(i.scrollWidth-i.clientWidth,r.scrollLeft+e))}function ce(t,e,n,r){var i=t.doc;if(null==n&&(n="add"),"smart"==n)if(t.doc.mode.indent)var o=I(t,e);else n="prev";var s,a=t.options.tabSize,l=hn(i,e),c=Vn(l.text,null,a),u=l.text.match(/^\s*/)[0];if("smart"==n&&(s=t.doc.mode.indent(o,l.text.slice(u.length),l.text),s==Ci)){if(!r)return;n="prev"}"prev"==n?s=e>i.first?Vn(hn(i,e-1).text,null,a):0:"add"==n?s=c+t.options.indentUnit:"subtract"==n?s=c-t.options.indentUnit:"number"==typeof n&&(s=c+n),s=Math.max(0,s);var h="",f=0;if(t.options.indentWithTabs)for(var d=Math.floor(s/a);d;--d)f+=a,h+=" ";s>f&&(h+=Gn(s-f)),h!=u&&Bt(t.doc,h,qt(e,0),qt(e,u.length),"+input"),l.stateAfter=null}function ue(t,e,n){var r=e,i=e,o=t.doc;return"number"==typeof e?i=hn(o,Kt(o,e)):r=gn(e),null==r?null:n(i,r)?(lt(t,r,r+1),i):null}function he(t,e,n,r,i){function o(){var e=a+n;return e<t.first||e>=t.first+t.size?h=!1:(a=e,u=hn(t,e))}function s(t){var e=(i?wr:xr)(u,l,n,!0);if(null==e){if(t||!o())return h=!1;l=i?(0>n?gr:pr)(u):0>n?u.text.length:0}else l=e;return!0}var a=e.line,l=e.ch,c=n,u=hn(t,a),h=!0;if("char"==r)s();else if("column"==r)s(!0);else if("word"==r||"group"==r)for(var f=null,d="group"==r,p=!0;!(0>n)||s(!p);p=!1){var g=u.text.charAt(l)||"\n",m=er(g)?"w":d?/\s/.test(g)?null:"p":null;if(f&&f!=m){0>n&&(n=1,s());break}if(m&&(f=m),n>0&&!s(!p))break}var v=ne(t,qt(a,l),c,!0);return h||(v.hitSide=!0),v}function fe(t,e,n,r){var i,o=t.doc,s=e.left;if("page"==r){var a=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);i=e.top+n*(a-(0>n?1.5:.5)*et(t.display))}else"line"==r&&(i=n>0?e.bottom+3:e.top-3);for(;;){var l=Z(t,s,i);if(!l.outside)break;if(0>n?0>=i:i>=o.height){l.hitSide=!0;break}i+=5*n}return l}function de(t,e){var n=e.ch,r=e.ch;if(t){(e.xRel<0||r==t.length)&&n?--n:++r;for(var i=t.charAt(n),o=er(i)?er:/\s/.test(i)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!er(t)};n>0&&o(t.charAt(n-1));)--n;for(;r<t.length&&o(t.charAt(r));)++r}return{from:qt(e.line,n),to:qt(e.line,r)}}function pe(t,e){Jt(t.doc,qt(e,0),Xt(t.doc,qt(e+1,0)))}function ge(e,n,r,i){t.defaults[e]=n,r&&(ni[e]=i?function(t,e,n){n!=ii&&r(t,e,n)}:r)}function me(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var n={};for(var r in e){var i=e[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function ve(t,e,n){return t.startState?t.startState(e,n):!0}function ye(t){return"string"==typeof t?hi[t]:t}function be(t,e,n){function r(e){e=ye(e);var i=e[t];if(i===!1)return"stop";if(null!=i&&n(i))return!0;if(e.nofallthrough)return"stop";var o=e.fallthrough;if(null==o)return!1;if("[object Array]"!=Object.prototype.toString.call(o))return r(o);for(var s=0,a=o.length;a>s;++s){var l=r(o[s]);if(l)return l}return!1}for(var i=0;i<e.length;++i){var o=r(e[i]);if(o)return"stop"!=o}}function ke(t){var e=Oi[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function we(t,e){if(Er&&34==t.keyCode&&t["char"])return!1;var n=Oi[t.keyCode];return null==n||t.altGraphKey?!1:(t.altKey&&(n="Alt-"+n),(qr?t.metaKey:t.ctrlKey)&&(n="Ctrl-"+n),(qr?t.ctrlKey:t.metaKey)&&(n="Cmd-"+n),!e&&t.shiftKey&&(n="Shift-"+n),n)}function xe(t,e){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0}function Ce(t,e){this.lines=[],this.type=e,this.doc=t}function _e(t,e,n,r,i){if(r&&r.shared)return Le(t,e,n,r,i);if(t.cm&&!t.cm.curOp)return ot(t.cm,_e)(t,e,n,r,i);var o=new Ce(t,i);if("range"==i&&!Vt(e,n))return o;r&&Jn(r,o),o.replacedWith&&(o.collapsed=!0,o.replacedWith=rr("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||(o.replacedWith.ignoreEvents=!0)),o.collapsed&&(Gr=!0),o.addToHistory&&xn(t,{from:e,to:n,origin:"markText"},{head:t.sel.head,anchor:t.sel.anchor},NaN);var s,a,l,c=e.line,u=0,h=t.cm;if(t.iter(c,n.line+1,function(r){h&&o.collapsed&&!h.options.lineWrapping&&Re(t,r)==h.display.maxLine&&(l=!0);var i={from:null,to:null,marker:o};u+=r.text.length,c==e.line&&(i.from=e.ch,u-=e.ch),c==n.line&&(i.to=n.ch,u-=r.text.length-n.ch),o.collapsed&&(c==n.line&&(a=Ie(r,n.ch)),c==e.line?s=Ie(r,e.ch):pn(r,0)),Ae(r,i),++c}),o.collapsed&&t.iter(e.line,n.line+1,function(e){Pe(t,e)&&pn(e,0)}),o.clearOnEnter&&Wn(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(Vr=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed){if(s!=a)throw new Error("Inserting collapsed marker overlapping an existing one");o.size=u,o.atomic=!0}return h&&(l&&(h.curOp.updateMaxLine=!0),(o.className||o.title||o.startStyle||o.endStyle||o.collapsed)&&lt(h,e.line,n.line+1),o.atomic&&ee(h)),o}function Se(t,e){this.markers=t,this.primary=e;for(var n=0,r=this;n<t.length;++n)t[n].parent=this,Wn(t[n],"clear",function(){r.clear()})}function Le(t,e,n,r,i){r=Jn(r),r.shared=!1;var o=[_e(t,e,n,r,i)],s=o[0],a=r.replacedWith;return cn(t,function(t){a&&(r.replacedWith=a.cloneNode(!0)),o.push(_e(t,Xt(t,e),Xt(t,n),r,i));for(var l=0;l<t.linked.length;++l)if(t.linked[l].isParent)return;s=Kn(o)}),new Se(o,s)}function Te(t,e){if(t)for(var n=0;n<t.length;++n){var r=t[n];if(r.marker==e)return r}}function Me(t,e){for(var n,r=0;r<t.length;++r)t[r]!=e&&(n||(n=[])).push(t[r]);return n}function Ae(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}function Ee(t,e,n){if(t)for(var r,i=0;i<t.length;++i){var o=t[i],s=o.marker,a=null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e);if(a||"bookmark"==s.type&&o.from==e&&(!n||!o.marker.insertLeft)){var l=null==o.to||(s.inclusiveRight?o.to>=e:o.to>e);(r||(r=[])).push({from:o.from,to:l?null:o.to,marker:s})}}return r}function Ne(t,e,n){if(t)for(var r,i=0;i<t.length;++i){var o=t[i],s=o.marker,a=null==o.to||(s.inclusiveRight?o.to>=e:o.to>e);if(a||"bookmark"==s.type&&o.from==e&&(!n||o.marker.insertLeft)){var l=null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e);(r||(r=[])).push({from:l?null:o.from-e,to:null==o.to?null:o.to-e,marker:s})}}return r}function $e(t,e){var n=Qt(t,e.from.line)&&hn(t,e.from.line).markedSpans,r=Qt(t,e.to.line)&&hn(t,e.to.line).markedSpans;if(!n&&!r)return null;var i=e.from.ch,o=e.to.ch,s=Ut(e.from,e.to),a=Ee(n,i,s),l=Ne(r,o,s),c=1==e.text.length,u=Kn(e.text).length+(c?i:0);if(a)for(var h=0;h<a.length;++h){var f=a[h];if(null==f.to){var d=Te(l,f.marker);d?c&&(f.to=null==d.to?null:d.to+u):f.to=i}}if(l)for(var h=0;h<l.length;++h){var f=l[h];if(null!=f.to&&(f.to+=u),null==f.from){var d=Te(a,f.marker);d||(f.from=u,c&&(a||(a=[])).push(f))}else f.from+=u,c&&(a||(a=[])).push(f)}if(c&&a){for(var h=0;h<a.length;++h)null!=a[h].from&&a[h].from==a[h].to&&"bookmark"!=a[h].marker.type&&a.splice(h--,1);a.length||(a=null)}var p=[a];if(!c){var g,m=e.text.length-2;if(m>0&&a)for(var h=0;h<a.length;++h)null==a[h].to&&(g||(g=[])).push({from:null,to:null,marker:a[h].marker});for(var h=0;m>h;++h)p.push(g);p.push(l)}return p}function Oe(t,e){var n=_n(t,e),r=$e(t,e);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],s=r[i];if(o&&s)t:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue t;o.push(l)}else s&&(n[i]=s)}return n}function De(t,e,n){var r=null;if(t.iter(e.line,n.line+1,function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var n=t.markedSpans[e].marker;!n.readOnly||r&&-1!=Yn(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:e,to:n}],o=0;o<r.length;++o)for(var s=r[o],a=s.find(),l=0;l<i.length;++l){var c=i[l];if(!Vt(c.to,a.from)&&!Vt(a.to,c.from)){var u=[l,1];(Vt(c.from,a.from)||!s.inclusiveLeft&&Ut(c.from,a.from))&&u.push({from:c.from,to:a.from}),(Vt(a.to,c.to)||!s.inclusiveRight&&Ut(c.to,a.to))&&u.push({from:a.to,to:c.to}),i.splice.apply(i,u),l+=u.length-1}}return i}function Ie(t,e){var n,r=Gr&&t.markedSpans;if(r)for(var i,o=0;o<r.length;++o)i=r[o],i.marker.collapsed&&(null==i.from||i.from<e)&&(null==i.to||i.to>e)&&(!n||n.width<i.marker.width)&&(n=i.marker);return n}function He(t){return Ie(t,-1)}function We(t){return Ie(t,t.text.length+1)}function Re(t,e){for(var n;n=He(e);)e=hn(t,n.find().from.line);return e}function Pe(t,e){var n=Gr&&e.markedSpans;if(n)for(var r,i=0;i<n.length;++i)if(r=n[i],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.replacedWith&&0==r.from&&r.marker.inclusiveLeft&&je(t,e,r))return!0}}function je(t,e,n){if(null==n.to){var r=n.marker.find().to,i=hn(t,r.line);return je(t,i,Te(i.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==e.text.length)return!0;for(var o,s=0;s<e.markedSpans.length;++s)if(o=e.markedSpans[s],o.marker.collapsed&&!o.marker.replacedWith&&o.from==n.to&&(o.marker.inclusiveLeft||n.marker.inclusiveRight)&&je(t,e,o))return!0}function ze(t){var e=t.markedSpans;if(e){for(var n=0;n<e.length;++n)e[n].marker.detachLine(t);t.markedSpans=null}}function Fe(t,e){if(e){for(var n=0;n<e.length;++n)e[n].marker.attachLine(t);t.markedSpans=e}}function Be(t){return function(){var e=!this.cm.curOp;e&&rt(this.cm);try{var n=t.apply(this,arguments)}finally{e&&it(this.cm)}return n}}function qe(t){return null!=t.height?t.height:(t.node.parentNode&&1==t.node.parentNode.nodeType||or(t.cm.display.measure,rr("div",[t.node],null,"position: relative")),t.height=t.node.offsetHeight)}function Ue(t,e,n,r){var i=new fi(t,n,r);return i.noHScroll&&(t.display.alignWidgets=!0),ue(t,e,function(e){var n=e.widgets||(e.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=e,!Pe(t.doc,e)||i.showIfHidden){var r=vn(t,e)<t.doc.scrollTop;pn(e,e.height+qe(i)),r&&le(t,0,i.height)}return!0}),i}function Ve(t,e,n,r){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),ze(t),Fe(t,n);var i=r?r(t):1;i!=t.height&&pn(t,i)}function Ge(t){t.parent=null,ze(t)}function Ke(t,e,n,r,i){var o=n.flattenSpans;null==o&&(o=t.options.flattenSpans);var s,a=0,l=null,c=new xe(e,t.options.tabSize);for(""==e&&n.blankLine&&n.blankLine(r);!c.eol();)c.pos>t.options.maxHighlightLength?(o=!1,c.pos=Math.min(e.length,c.start+5e4),s=null):s=n.token(c,r),o&&l==s||(a<c.start&&i(c.start,l),a=c.start,l=s),c.start=c.pos;a<c.pos&&i(c.pos,l)}function Xe(t,e,n){var r=[t.state.modeGen];Ke(t,e.text,t.doc.mode,n,function(t,e){r.push(t,e)});for(var i=0;i<t.state.overlays.length;++i){var o=t.state.overlays[i],s=1,a=0;Ke(t,e.text,o.mode,!0,function(t,e){for(var n=s;t>a;){var i=r[s];i>t&&r.splice(s,1,t,r[s+1],i),s+=2,a=Math.min(t,i)}if(e)if(o.opaque)r.splice(n,s-n,t,e),s=n+2;else for(;s>n;n+=2){var l=r[n+1];r[n+1]=l?l+" "+e:e}})}return r}function Ye(t,e){return e.styles&&e.styles[0]==t.state.modeGen||(e.styles=Xe(t,e,e.stateAfter=I(t,gn(e)))),e.styles}function Qe(t,e,n){var r=t.doc.mode,i=new xe(e.text,t.options.tabSize);for(""==e.text&&r.blankLine&&r.blankLine(n);!i.eol()&&i.pos<=t.options.maxHighlightLength;)r.token(i,n),i.start=i.pos}function Je(t){return t?pi[t]||(pi[t]="cm-"+t.replace(/ +/g," cm-")):null}function Ze(t,e,n,r){for(var i,o=e,s=!0;i=He(o);)o=hn(t.doc,i.find().from.line);var a={pre:rr("pre"),col:0,pos:0,measure:null,measuredSomething:!1,cm:t,copyWidgets:r};o.textClass&&(a.pre.className=o.textClass);do{o.text&&(s=!1),a.measure=o==e&&n,a.pos=0,a.addToken=a.measure?en:tn,(_r||Tr)&&t.getOption("lineWrapping")&&(a.addToken=nn(a.addToken));var l=on(o,a,Ye(t,o));n&&o==e&&!a.measuredSomething&&(n[0]=a.pre.appendChild(ur(t.display.measure)),a.measuredSomething=!0),l&&(o=hn(t.doc,l.to.line))}while(l);!n||a.measuredSomething||n[0]||(n[0]=a.pre.appendChild(s?rr("span"," "):ur(t.display.measure))),a.pre.firstChild||Pe(t.doc,e)||a.pre.appendChild(document.createTextNode(" "));var c;if(n&&_r&&(c=yn(o))){var u=c.length-1;c[u].from==c[u].to&&--u;var h=c[u],f=c[u-1];if(h.from+1==h.to&&f&&h.level<f.level){var d=n[a.pos-1];d&&d.parentNode.insertBefore(d.measureRight=ur(t.display.measure),d.nextSibling)}}return Pn(t,"renderLine",t,e,a.pre),a.pre}function tn(t,e,n,r,i,o){if(e){if(gi.test(e))for(var s=document.createDocumentFragment(),a=0;;){gi.lastIndex=a;var l=gi.exec(e),c=l?l.index-a:e.length-a;if(c&&(s.appendChild(document.createTextNode(e.slice(a,a+c))),t.col+=c),!l)break;if(a+=c+1,"  "==l[0]){var u=t.cm.options.tabSize,h=u-t.col%u;s.appendChild(rr("span",Gn(h),"cm-tab")),t.col+=h}else{var f=rr("span","•","cm-invalidchar");f.title="\\u"+l[0].charCodeAt(0).toString(16),s.appendChild(f),t.col+=1}}else{t.col+=e.length;var s=document.createTextNode(e)}if(n||r||i||t.measure){var d=n||"";r&&(d+=r),i&&(d+=i);var f=rr("span",[s],d);return o&&(f.title=o),t.pre.appendChild(f)}t.pre.appendChild(s)}}function en(t,e,n,r,i){for(var o=t.cm.options.lineWrapping,s=0;s<e.length;++s){var a=e.charAt(s),l=0==s;a>="�"&&"�">a&&s<e.length-1?(a=e.slice(s,s+2),++s):s&&o&&lr(e,s)&&t.pre.appendChild(rr("wbr"));var c=t.measure[t.pos],u=t.measure[t.pos]=tn(t,a,n,l&&r,s==e.length-1&&i);c&&(u.leftSide=c.leftSide||c),_r&&o&&" "==a&&s&&!/\s/.test(e.charAt(s-1))&&s<e.length-1&&!/\s/.test(e.charAt(s+1))&&(u.style.whiteSpace="normal"),t.pos+=a.length}e.length&&(t.measuredSomething=!0)}function nn(t){function e(t){for(var e=" ",n=0;n<t.length-2;++n)e+=n%2?" ":" ";return e+=" "}return function(n,r,i,o,s,a){return t(n,r.replace(/ {3,}/,e),i,o,s,a)}}function rn(t,e,n,r){var i=!r&&n.replacedWith;if(i&&(t.copyWidgets&&(i=i.cloneNode(!0)),t.pre.appendChild(i),t.measure)){if(e)t.measure[t.pos]=i;else{var o=t.measure[t.pos]=ur(t.cm.display.measure);"bookmark"!=n.type||n.insertLeft?t.pre.insertBefore(o,i):t.pre.appendChild(o)}t.measuredSomething=!0}t.pos+=e}function on(t,e,n){var r=t.markedSpans,i=t.text,o=0;if(r)for(var s,a,l,c,u,h,f=i.length,d=0,p=1,g="",m=0;;){if(m==d){a=l=c=u="",h=null,m=1/0;for(var v=null,y=0;y<r.length;++y){var b=r[y],k=b.marker;b.from<=d&&(null==b.to||b.to>d)?(null!=b.to&&m>b.to&&(m=b.to,l=""),k.className&&(a+=" "+k.className),k.startStyle&&b.from==d&&(c+=" "+k.startStyle),k.endStyle&&b.to==m&&(l+=" "+k.endStyle),k.title&&!u&&(u=k.title),k.collapsed&&(!h||h.marker.size<k.size)&&(h=b)):b.from>d&&m>b.from&&(m=b.from),"bookmark"==k.type&&b.from==d&&k.replacedWith&&(v=k)}if(h&&(h.from||0)==d&&(rn(e,(null==h.to?f:h.to)-d,h.marker,null==h.from),null==h.to))return h.marker.find();v&&!h&&rn(e,0,v)}if(d>=f)break;for(var w=Math.min(f,m);;){if(g){var x=d+g.length;if(!h){var C=x>w?g.slice(0,w-d):g;e.addToken(e,C,s?s+a:a,c,d+C.length==m?l:"",u)}if(x>=w){g=g.slice(w-d),d=w;break}d=x,c=""}g=i.slice(o,o=n[p++]),s=Je(n[p++])}}else for(var p=1;p<n.length;p+=2)e.addToken(e,i.slice(o,o=n[p]),Je(n[p+1]))}function sn(t,e,n,r,i){function o(t){return n?n[t]:null}function s(t,n,r){Ve(t,n,r,i),jn(t,"change",t,e)}var a=e.from,l=e.to,c=e.text,u=hn(t,a.line),h=hn(t,l.line),f=Kn(c),d=o(c.length-1),p=l.line-a.line;if(0==a.ch&&0==l.ch&&""==f){for(var g=0,m=c.length-1,v=[];m>g;++g)v.push(new di(c[g],o(g),i));s(h,h.text,d),p&&t.remove(a.line,p),v.length&&t.insert(a.line,v)}else if(u==h)if(1==c.length)s(u,u.text.slice(0,a.ch)+f+u.text.slice(l.ch),d);else{for(var v=[],g=1,m=c.length-1;m>g;++g)v.push(new di(c[g],o(g),i));v.push(new di(f+u.text.slice(l.ch),d,i)),s(u,u.text.slice(0,a.ch)+c[0],o(0)),t.insert(a.line+1,v)}else if(1==c.length)s(u,u.text.slice(0,a.ch)+c[0]+h.text.slice(l.ch),o(0)),t.remove(a.line+1,p);else{s(u,u.text.slice(0,a.ch)+c[0],o(0)),s(h,f+h.text.slice(l.ch),d);for(var g=1,m=c.length-1,v=[];m>g;++g)v.push(new di(c[g],o(g),i));p>1&&t.remove(a.line+1,p-1),t.insert(a.line+1,v)}jn(t,"change",t,e),te(t,r.anchor,r.head,null,!0)}function an(t){this.lines=t,this.parent=null;for(var e=0,n=t.length,r=0;n>e;++e)t[e].parent=this,r+=t[e].height;this.height=r}function ln(t){this.children=t;for(var e=0,n=0,r=0,i=t.length;i>r;++r){var o=t[r];e+=o.chunkSize(),n+=o.height,o.parent=this}this.size=e,this.height=n,this.parent=null}function cn(t,e,n){function r(t,i,o){if(t.linked)for(var s=0;s<t.linked.length;++s){var a=t.linked[s];if(a.doc!=i){var l=o&&a.sharedHist;(!n||l)&&(e(a.doc,l),r(a.doc,t,l))}}}r(t,null,!0)}function un(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,o(t),n(t),t.options.lineWrapping||h(t),t.options.mode=e.modeOption,lt(t)}function hn(t,e){for(e-=t.first;!t.lines;)for(var n=0;;++n){var r=t.children[n],i=r.chunkSize();if(i>e){t=r;break}e-=i}return t.lines[e]}function fn(t,e,n){var r=[],i=e.line;return t.iter(e.line,n.line+1,function(t){var o=t.text;i==n.line&&(o=o.slice(0,n.ch)),i==e.line&&(o=o.slice(e.ch)),r.push(o),++i}),r}function dn(t,e,n){var r=[];return t.iter(e,n,function(t){r.push(t.text)}),r}function pn(t,e){for(var n=e-t.height,r=t;r;r=r.parent)r.height+=n}function gn(t){if(null==t.parent)return null;for(var e=t.parent,n=Yn(e.lines,t),r=e.parent;r;e=r,r=r.parent)for(var i=0;r.children[i]!=e;++i)n+=r.children[i].chunkSize();return n+e.first}function mn(t,e){var n=t.first;t:do{for(var r=0,i=t.children.length;i>r;++r){var o=t.children[r],s=o.height;if(s>e){t=o;continue t}e-=s,n+=o.chunkSize()}return n}while(!t.lines);for(var r=0,i=t.lines.length;i>r;++r){var a=t.lines[r],l=a.height;if(l>e)break;e-=l}return n+r}function vn(t,e){e=Re(t.doc,e);for(var n=0,r=e.parent,i=0;i<r.lines.length;++i){var o=r.lines[i];if(o==e)break;n+=o.height}for(var s=r.parent;s;r=s,s=r.parent)for(var i=0;i<s.children.length;++i){var a=s.children[i];if(a==r)break;n+=a.height}return n}function yn(t){var e=t.order;return null==e&&(e=t.order=Ii(t.text)),e}function bn(t){return{done:[],undone:[],undoDepth:1/0,lastTime:0,lastOp:null,lastOrigin:null,generation:t||1,maxGeneration:t||1}}function kn(t,e,n,r){var i=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,n),Math.min(t.first+t.size,r),function(n){n.markedSpans&&((i||(i=e["spans_"+t.id]={}))[o]=n.markedSpans),++o})}function wn(t,e){var n={line:e.from.line,ch:e.from.ch},r={from:n,to:ei(e),text:fn(t,e.from,e.to)};return kn(t,r,e.from.line,e.to.line+1),cn(t,function(t){kn(t,r,e.from.line,e.to.line+1)},!0),r}function xn(t,e,n,r){var i=t.history;i.undone.length=0;var o=+new Date,s=Kn(i.done);if(s&&(i.lastOp==r||i.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&t.cm&&i.lastTime>o-t.cm.options.historyEventDelay||"*"==e.origin.charAt(0)))){var a=Kn(s.changes);Ut(e.from,e.to)&&Ut(e.from,a.to)?a.to=ei(e):s.changes.push(wn(t,e)),s.anchorAfter=n.anchor,s.headAfter=n.head}else for(s={changes:[wn(t,e)],generation:i.generation,anchorBefore:t.sel.anchor,headBefore:t.sel.head,anchorAfter:n.anchor,headAfter:n.head},i.done.push(s),i.generation=++i.maxGeneration;i.done.length>i.undoDepth;)i.done.shift();i.lastTime=o,i.lastOp=r,i.lastOrigin=e.origin}function Cn(t){if(!t)return null;for(var e,n=0;n<t.length;++n)t[n].marker.explicitlyCleared?e||(e=t.slice(0,n)):e&&e.push(t[n]);return e?e.length?e:null:t}function _n(t,e){var n=e["spans_"+t.id];if(!n)return null;for(var r=0,i=[];r<e.text.length;++r)i.push(Cn(n[r]));return i}function Sn(t,e){for(var n=0,r=[];n<t.length;++n){var i=t[n],o=i.changes,s=[];r.push({changes:s,anchorBefore:i.anchorBefore,headBefore:i.headBefore,anchorAfter:i.anchorAfter,headAfter:i.headAfter});for(var a=0;a<o.length;++a){var l,c=o[a];if(s.push({from:c.from,to:c.to,text:c.text}),e)for(var u in c)(l=u.match(/^spans_(\d+)$/))&&Yn(e,Number(l[1]))>-1&&(Kn(s)[u]=c[u],delete c[u])}}return r}function Ln(t,e,n,r){n<t.line?t.line+=r:e<t.line&&(t.line=e,t.ch=0)}function Tn(t,e,n,r){for(var i=0;i<t.length;++i){for(var o=t[i],s=!0,a=0;a<o.changes.length;++a){var l=o.changes[a];if(o.copied||(l.from=Gt(l.from),l.to=Gt(l.to)),n<l.from.line)l.from.line+=r,l.to.line+=r;else if(e<=l.to.line){s=!1;break}}o.copied||(o.anchorBefore=Gt(o.anchorBefore),o.headBefore=Gt(o.headBefore),o.anchorAfter=Gt(o.anchorAfter),o.readAfter=Gt(o.headAfter),o.copied=!0),s?(Ln(o.anchorBefore),Ln(o.headBefore),Ln(o.anchorAfter),Ln(o.headAfter)):(t.splice(0,i+1),i=0)}}function Mn(t,e){var n=e.from.line,r=e.to.line,i=e.text.length-(r-n)-1;Tn(t.done,n,r,i),Tn(t.undone,n,r,i)}function An(){Dn(this)}function En(t){return t.stop||(t.stop=An),t}function Nn(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function $n(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function On(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function Dn(t){Nn(t),$n(t)}function In(t){return t.target||t.srcElement}function Hn(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),Rr&&t.ctrlKey&&1==e&&(e=3),e}function Wn(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent)t.attachEvent("on"+e,n);else{var r=t._handlers||(t._handlers={}),i=r[e]||(r[e]=[]);i.push(n)}}function Rn(t,e,n){if(t.removeEventListener)t.removeEventListener(e,n,!1);else if(t.detachEvent)t.detachEvent("on"+e,n);else{var r=t._handlers&&t._handlers[e];if(!r)return;for(var i=0;i<r.length;++i)if(r[i]==n){r.splice(i,1);break}}}function Pn(t,e){var n=t._handlers&&t._handlers[e];if(n)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function jn(t,e){function n(t){return function(){t.apply(null,i)}}var r=t._handlers&&t._handlers[e];if(r){var i=Array.prototype.slice.call(arguments,2);ki||(++wi,ki=[],setTimeout(Fn,0));for(var o=0;o<r.length;++o)ki.push(n(r[o]))}}function zn(t,e,n){return Pn(t,n||e.type,t,e),On(e)||e.codemirrorIgnore}function Fn(){--wi;var t=ki;ki=null;for(var e=0;e<t.length;++e)t[e]()}function Bn(t,e){var n=t._handlers&&t._handlers[e];return n&&n.length>0}function qn(t){t.prototype.on=function(t,e){Wn(this,t,e)},t.prototype.off=function(t,e){Rn(this,t,e)}}function Un(){this.id=null}function Vn(t,e,n,r,i){null==e&&(e=t.search(/[^\s\u00a0]/),-1==e&&(e=t.length));for(var o=r||0,s=i||0;e>o;++o)"  "==t.charAt(o)?s+=n-s%n:++s;return s}function Gn(t){for(;_i.length<=t;)_i.push(Kn(_i)+" ");return _i[t]}function Kn(t){return t[t.length-1]}function Xn(t){if(Hr)t.selectionStart=0,t.selectionEnd=t.value.length;else try{t.select()}catch(e){}}function Yn(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;r>n;++n)if(t[n]==e)return n;return-1}function Qn(t,e){function n(){}n.prototype=t;var r=new n;return e&&Jn(e,r),r}function Jn(t,e){e||(e={});for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Zn(t){for(var e=[],n=0;t>n;++n)e.push(void 0);return e}function tr(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function er(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Si.test(t))}function nr(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}function rr(t,e,n,r){var i=document.createElement(t);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof e)sr(i,e);else if(e)for(var o=0;o<e.length;++o)i.appendChild(e[o]);return i}function ir(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function or(t,e){return ir(t).appendChild(e)}function sr(t,e){Lr?(t.innerHTML="",t.appendChild(document.createTextNode(e))):t.textContent=e}function ar(t){return t.getBoundingClientRect()}function lr(){return!1}function cr(t){if(null!=Mi)return Mi;var e=rr("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");return or(t,e),e.offsetWidth&&(Mi=e.offsetHeight-e.clientHeight),Mi||0}function ur(t){if(null==Ai){var e=rr("span","​");or(t,rr("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(Ai=e.offsetWidth<=1&&e.offsetHeight>2&&!Sr)}return Ai?rr("span","​"):rr("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px")}function hr(t,e,n,r){if(!t)return r(e,n,"ltr");for(var i=!1,o=0;o<t.length;++o){var s=t[o];(s.from<n&&s.to>e||e==n&&s.to==e)&&(r(Math.max(s.from,e),Math.min(s.to,n),1==s.level?"rtl":"ltr"),i=!0)}i||r(e,n,"ltr")}function fr(t){return t.level%2?t.to:t.from}function dr(t){return t.level%2?t.from:t.to}function pr(t){var e=yn(t);return e?fr(e[0]):0}function gr(t){var e=yn(t);return e?dr(Kn(e)):t.text.length}function mr(t,e){var n=hn(t.doc,e),r=Re(t.doc,n);r!=n&&(e=gn(r));var i=yn(r),o=i?i[0].level%2?gr(r):pr(r):0;return qt(e,o)}function vr(t,e){for(var n,r;n=We(r=hn(t.doc,e));)e=n.find().to.line;var i=yn(r),o=i?i[0].level%2?pr(r):gr(r):r.text.length;return qt(e,o)}function yr(t,e,n){var r=t[0].level;return e==r?!0:n==r?!1:n>e}function br(t,e){for(var n,r=0;r<t.length;++r){var i=t[r];if(i.from<e&&i.to>e)return Di=null,r;if(i.from==e||i.to==e){if(null!=n)return yr(t,i.level,t[n].level)?(Di=n,r):(Di=r,n);n=r}}return Di=null,n}function kr(t,e,n,r){if(!r)return e+n;do e+=n;while(e>0&&Li.test(t.text.charAt(e)));return e}function wr(t,e,n,r){var i=yn(t);if(!i)return xr(t,e,n,r);for(var o=br(i,e),s=i[o],a=kr(t,e,s.level%2?-n:n,r);;){if(a>s.from&&a<s.to)return a;if(a==s.from||a==s.to)return br(i,a)==o?a:(s=i[o+=n],n>0==s.level%2?s.to:s.from);if(s=i[o+=n],!s)return null;a=n>0==s.level%2?kr(t,s.to,-1,r):kr(t,s.from,1,r)}}function xr(t,e,n,r){var i=e+n;if(r)for(;i>0&&Li.test(t.text.charAt(i));)i+=n;return 0>i||i>t.text.length?null:i}var Cr=/gecko\/\d/i.test(navigator.userAgent),_r=/MSIE \d/.test(navigator.userAgent),Sr=_r&&(null==document.documentMode||document.documentMode<8),Lr=_r&&(null==document.documentMode||document.documentMode<9),Tr=/WebKit\//.test(navigator.userAgent),Mr=Tr&&/Qt\/\d+\.\d+/.test(navigator.userAgent),Ar=/Chrome\//.test(navigator.userAgent),Er=/Opera\//.test(navigator.userAgent),Nr=/Apple Computer/.test(navigator.vendor),$r=/KHTML\//.test(navigator.userAgent),Or=/Mac OS X 1\d\D([7-9]|\d\d)\D/.test(navigator.userAgent),Dr=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),Ir=/PhantomJS/.test(navigator.userAgent),Hr=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),Wr=Hr||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),Rr=Hr||/Mac/.test(navigator.platform),Pr=/windows/i.test(navigator.platform),jr=Er&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);
jr&&(jr=Number(jr[1])),jr&&jr>=15&&(Er=!1,Tr=!0);var zr,Fr,Br,qr=Rr&&(Mr||Er&&(null==jr||12.11>jr)),Ur=Cr||_r&&!Lr,Vr=!1,Gr=!1,Kr=0,Xr=0,Yr=0,Qr=null;_r?Qr=-.53:Cr?Qr=15:Ar?Qr=-.7:Nr&&(Qr=-1/3);var Jr,Zr,ti=null,ei=t.changeEnd=function(t){return t.text?qt(t.from.line+t.text.length-1,Kn(t.text).length+(1==t.text.length?t.from.ch:0)):t.to};t.Pos=qt,t.prototype={constructor:t,focus:function(){window.focus(),dt(this),Nt(this),ut(this)},setOption:function(t,e){var n=this.options,r=n[t];(n[t]!=e||"mode"==t)&&(n[t]=e,ni.hasOwnProperty(t)&&ot(this,ni[t])(this,e,r))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](t)},removeKeyMap:function(t){for(var e=this.state.keyMaps,n=0;n<e.length;++n)if(e[n]==t||"string"!=typeof e[n]&&e[n].name==t)return e.splice(n,1),!0},addOverlay:ot(null,function(e,n){var r=e.token?e:t.getMode(this.options,e);if(r.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:r,modeSpec:e,opaque:n&&n.opaque}),this.state.modeGen++,lt(this)}),removeOverlay:ot(null,function(t){for(var e=this.state.overlays,n=0;n<e.length;++n){var r=e[n].modeSpec;if(r==t||"string"==typeof t&&r.name==t)return e.splice(n,1),this.state.modeGen++,void lt(this)}}),indentLine:ot(null,function(t,e,n){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),Qt(this.doc,t)&&ce(this,t,e,n)}),indentSelection:ot(null,function(t){var e=this.doc.sel;if(Ut(e.from,e.to))return ce(this,e.from.line,t);for(var n=e.to.line-(e.to.ch?0:1),r=e.from.line;n>=r;++r)ce(this,r,t)}),getTokenAt:function(t,e){var n=this.doc;t=Xt(n,t);for(var r=I(this,t.line,e),i=this.doc.mode,o=hn(n,t.line),s=new xe(o.text,this.options.tabSize);s.pos<t.ch&&!s.eol();){s.start=s.pos;var a=i.token(s,r)}return{start:s.start,end:s.pos,string:s.current(),className:a||null,type:a||null,state:r}},getTokenTypeAt:function(t){t=Xt(this.doc,t);var e=Ye(this,hn(this.doc,t.line)),n=0,r=(e.length-1)/2,i=t.ch;if(0==i)return e[2];for(;;){var o=n+r>>1;if((o?e[2*o-1]:0)>=i)r=o;else{if(!(e[2*o+1]<i))return e[2*o+2];n=o+1}}},getModeAt:function(e){var n=this.doc.mode;return n.innerMode?t.innerMode(n,this.getTokenAt(e).state).mode:n},getHelper:function(t,e){if(ci.hasOwnProperty(e)){var n=ci[e],r=this.getModeAt(t);return r[e]&&n[r[e]]||r.helperType&&n[r.helperType]||n[r.name]}},getStateAfter:function(t,e){var n=this.doc;return t=Kt(n,null==t?n.first+n.size-1:t),I(this,t+1,e)},cursorCoords:function(t,e){var n,r=this.doc.sel;return n=null==t?r.head:"object"==typeof t?Xt(this.doc,t):t?r.from:r.to,Q(this,n,e||"page")},charCoords:function(t,e){return Y(this,Xt(this.doc,t),e||"page")},coordsChar:function(t,e){return t=X(this,t,e||"page"),Z(this,t.left,t.top)},lineAtHeight:function(t,e){return t=X(this,{top:t,left:0},e||"page").top,mn(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e){var n=!1,r=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>r&&(t=r,n=!0);var i=hn(this.doc,t);return K(this,hn(this.doc,t),{top:0,left:0},e||"page").top+(n?i.height:0)},defaultTextHeight:function(){return et(this.display)},defaultCharWidth:function(){return nt(this.display)},setGutterMarker:ot(null,function(t,e,n){return ue(this,t,function(t){var r=t.gutterMarkers||(t.gutterMarkers={});return r[e]=n,!n&&nr(r)&&(t.gutterMarkers=null),!0})}),clearGutter:ot(null,function(t){var e=this,n=e.doc,r=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[t]&&(n.gutterMarkers[t]=null,lt(e,r,r+1),nr(n.gutterMarkers)&&(n.gutterMarkers=null)),++r})}),addLineClass:ot(null,function(t,e,n){return ue(this,t,function(t){var r="text"==e?"textClass":"background"==e?"bgClass":"wrapClass";if(t[r]){if(new RegExp("(?:^|\\s)"+n+"(?:$|\\s)").test(t[r]))return!1;t[r]+=" "+n}else t[r]=n;return!0})}),removeLineClass:ot(null,function(t,e,n){return ue(this,t,function(t){var r="text"==e?"textClass":"background"==e?"bgClass":"wrapClass",i=t[r];if(!i)return!1;if(null==n)t[r]=null;else{var o=i.match(new RegExp("(?:^|\\s+)"+n+"(?:$|\\s+)"));if(!o)return!1;var s=o.index+o[0].length;t[r]=i.slice(0,o.index)+(o.index&&s!=i.length?" ":"")+i.slice(s)||null}return!0})}),addLineWidget:ot(null,function(t,e,n){return Ue(this,t,e,n)}),removeLineWidget:function(t){t.clear()},lineInfo:function(t){if("number"==typeof t){if(!Qt(this.doc,t))return null;var e=t;if(t=hn(this.doc,t),!t)return null}else{var e=gn(t);if(null==e)return null}return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},getViewport:function(){return{from:this.display.showingFrom,to:this.display.showingTo}},addWidget:function(t,e,n,r,i){var o=this.display;t=Q(this,Xt(this.doc,t));var s=t.bottom,a=t.left;if(e.style.position="absolute",o.sizer.appendChild(e),"over"==r)s=t.top;else if("above"==r||"near"==r){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||t.bottom+e.offsetHeight>l)&&t.top>e.offsetHeight?s=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=l&&(s=t.bottom),a+e.offsetWidth>c&&(a=c-e.offsetWidth)}e.style.top=s+"px",e.style.left=e.style.right="","right"==i?(a=o.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==i?a=0:"middle"==i&&(a=(o.sizer.clientWidth-e.offsetWidth)/2),e.style.left=a+"px"),n&&oe(this,a,s,a+e.offsetWidth,s+e.offsetHeight)},triggerOnKeyDown:ot(null,At),execCommand:function(t){return ui[t](this)},findPosH:function(t,e,n,r){var i=1;0>e&&(i=-1,e=-e);for(var o=0,s=Xt(this.doc,t);e>o&&(s=he(this.doc,s,i,n,r),!s.hitSide);++o);return s},moveH:ot(null,function(t,e){var n,r=this.doc.sel;n=r.shift||r.extend||Ut(r.from,r.to)?he(this.doc,r.head,t,e,this.options.rtlMoveVisually):0>t?r.from:r.to,Jt(this.doc,n,n,t)}),deleteH:ot(null,function(t,e){var n=this.doc.sel;Ut(n.from,n.to)?Bt(this.doc,"",n.from,he(this.doc,n.head,t,e,!1),"+delete"):Bt(this.doc,"",n.from,n.to,"+delete"),this.curOp.userSelChange=!0}),findPosV:function(t,e,n,r){var i=1,o=r;0>e&&(i=-1,e=-e);for(var s=0,a=Xt(this.doc,t);e>s;++s){var l=Q(this,a,"div");if(null==o?o=l.left:l.left=o,a=fe(this,l,i,n),a.hitSide)break}return a},moveV:ot(null,function(t,e){var n=this.doc.sel,r=Q(this,n.head,"div");null!=n.goalColumn&&(r.left=n.goalColumn);var i=fe(this,r,t,e);"page"==e&&le(this,0,Y(this,i,"div").top-r.top),Jt(this.doc,i,i,t),n.goalColumn=r.left}),toggleOverwrite:function(t){(null==t||t!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?this.display.cursor.className+=" CodeMirror-overwrite":this.display.cursor.className=this.display.cursor.className.replace(" CodeMirror-overwrite",""))},hasFocus:function(){return this.state.focused},scrollTo:ot(null,function(t,e){ae(this,t,e)}),getScrollInfo:function(){var t=this.display.scroller,e=xi;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-e,width:t.scrollWidth-e,clientHeight:t.clientHeight-e,clientWidth:t.clientWidth-e}},scrollIntoView:ot(null,function(t,e){"number"==typeof t&&(t=qt(t,0)),e||(e=0);var n=t;t&&null==t.line||(this.curOp.scrollToPos=t?Xt(this.doc,t):this.doc.sel.head,this.curOp.scrollToPosMargin=e,n=Q(this,this.curOp.scrollToPos));var r=se(this,n.left,n.top-e,n.right,n.bottom+e);ae(this,r.scrollLeft,r.scrollTop)}),setSize:ot(null,function(t,e){function n(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t}null!=t&&(this.display.wrapper.style.width=n(t)),null!=e&&(this.display.wrapper.style.height=n(e)),this.options.lineWrapping&&(this.display.measureLineCache.length=this.display.measureLineCachePos=0),this.curOp.forceUpdate=!0}),operation:function(t){return at(this,t)},refresh:ot(null,function(){U(this),ae(this,this.doc.scrollLeft,this.doc.scrollTop),lt(this)}),swapDoc:ot(null,function(t){var e=this.doc;return e.cm=null,un(this,t),U(this),ft(this,!0),ae(this,t.scrollLeft,t.scrollTop),e}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},qn(t);var ni=t.optionHandlers={},ri=t.defaults={},ii=t.Init={toString:function(){return"CodeMirror.Init"}};ge("value","",function(t,e){t.setValue(e)},!0),ge("mode",null,function(t,e){t.doc.modeOption=e,n(t)},!0),ge("indentUnit",2,n,!0),ge("indentWithTabs",!1),ge("smartIndent",!0),ge("tabSize",4,function(t){n(t),U(t),lt(t)},!0),ge("electricChars",!0),ge("rtlMoveVisually",!Pr),ge("theme","default",function(t){a(t),l(t)},!0),ge("keyMap","default",s),ge("extraKeys",null),ge("onKeyEvent",null),ge("onDragEvent",null),ge("lineWrapping",!1,r,!0),ge("gutters",[],function(t){f(t.options),l(t)},!0),ge("fixedGutter",!0,function(t,e){t.display.gutters.style.left=e?y(t.display)+"px":"0",t.refresh()},!0),ge("coverGutterNextToScrollbar",!1,d,!0),ge("lineNumbers",!1,function(t){f(t.options),l(t)},!0),ge("firstLineNumber",1,l,!0),ge("lineNumberFormatter",function(t){return t},l,!0),ge("showCursorWhenSelecting",!1,M,!0),ge("readOnly",!1,function(t,e){"nocursor"==e?($t(t),t.display.input.blur()):e||ft(t,!0)}),ge("dragDrop",!0),ge("cursorBlinkRate",530),ge("cursorScrollMargin",0),ge("cursorHeight",1),ge("workTime",100),ge("workDelay",100),ge("flattenSpans",!0),ge("pollInterval",100),ge("undoDepth",40,function(t,e){t.doc.history.undoDepth=e}),ge("historyEventDelay",500),ge("viewportMargin",10,function(t){t.refresh()},!0),ge("maxHighlightLength",1e4,function(t){n(t),t.refresh()},!0),ge("moveInputWithCursor",!0,function(t,e){e||(t.display.inputDiv.style.top=t.display.inputDiv.style.left=0)}),ge("tabindex",null,function(t,e){t.display.input.tabIndex=e||""}),ge("autofocus",null);var oi=t.modes={},si=t.mimeModes={};t.defineMode=function(e,n){if(t.defaults.mode||"null"==e||(t.defaults.mode=e),arguments.length>2){n.dependencies=[];for(var r=2;r<arguments.length;++r)n.dependencies.push(arguments[r])}oi[e]=n},t.defineMIME=function(t,e){si[t]=e},t.resolveMode=function(e){if("string"==typeof e&&si.hasOwnProperty(e))e=si[e];else if(e&&"string"==typeof e.name&&si.hasOwnProperty(e.name)){var n=si[e.name];e=Qn(n,e),e.name=n.name}else if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return t.resolveMode("application/xml");return"string"==typeof e?{name:e}:e||{name:"null"}},t.getMode=function(e,n){var n=t.resolveMode(n),r=oi[n.name];if(!r)return t.getMode(e,"text/plain");var i=r(e,n);if(ai.hasOwnProperty(n.name)){var o=ai[n.name];for(var s in o)o.hasOwnProperty(s)&&(i.hasOwnProperty(s)&&(i["_"+s]=i[s]),i[s]=o[s])}return i.name=n.name,i},t.defineMode("null",function(){return{token:function(t){t.skipToEnd()}}}),t.defineMIME("text/plain","null");var ai=t.modeExtensions={};t.extendMode=function(t,e){var n=ai.hasOwnProperty(t)?ai[t]:ai[t]={};Jn(e,n)},t.defineExtension=function(e,n){t.prototype[e]=n},t.defineDocExtension=function(t,e){vi.prototype[t]=e},t.defineOption=ge;var li=[];t.defineInitHook=function(t){li.push(t)};var ci=t.helpers={};t.registerHelper=function(e,n,r){ci.hasOwnProperty(e)||(ci[e]=t[e]={}),ci[e][n]=r},t.isWordChar=er,t.copyState=me,t.startState=ve,t.innerMode=function(t,e){for(;t.innerMode;){var n=t.innerMode(e);if(!n||n.mode==t)break;e=n.state,t=n.mode}return n||{mode:t,state:e}};var ui=t.commands={selectAll:function(t){t.setSelection(qt(t.firstLine(),0),qt(t.lastLine()))},killLine:function(t){var e=t.getCursor(!0),n=t.getCursor(!1),r=!Ut(e,n);r||t.getLine(e.line).length!=e.ch?t.replaceRange("",e,r?n:qt(e.line),"+delete"):t.replaceRange("",e,qt(e.line+1,0),"+delete")},deleteLine:function(t){var e=t.getCursor().line;t.replaceRange("",qt(e,0),qt(e),"+delete")},delLineLeft:function(t){var e=t.getCursor();t.replaceRange("",qt(e.line,0),e,"+delete")},undo:function(t){t.undo()},redo:function(t){t.redo()},goDocStart:function(t){t.extendSelection(qt(t.firstLine(),0))},goDocEnd:function(t){t.extendSelection(qt(t.lastLine()))},goLineStart:function(t){t.extendSelection(mr(t,t.getCursor().line))},goLineStartSmart:function(t){var e=t.getCursor(),n=mr(t,e.line),r=t.getLineHandle(n.line),i=yn(r);if(i&&0!=i[0].level)t.extendSelection(n);else{var o=Math.max(0,r.text.search(/\S/)),s=e.line==n.line&&e.ch<=o&&e.ch;t.extendSelection(qt(n.line,s?0:o))}},goLineEnd:function(t){t.extendSelection(vr(t,t.getCursor().line))},goLineRight:function(t){var e=t.charCoords(t.getCursor(),"div").top+5;t.extendSelection(t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:e},"div"))},goLineLeft:function(t){var e=t.charCoords(t.getCursor(),"div").top+5;t.extendSelection(t.coordsChar({left:0,top:e},"div"))},goLineUp:function(t){t.moveV(-1,"line")},goLineDown:function(t){t.moveV(1,"line")},goPageUp:function(t){t.moveV(-1,"page")},goPageDown:function(t){t.moveV(1,"page")},goCharLeft:function(t){t.moveH(-1,"char")},goCharRight:function(t){t.moveH(1,"char")},goColumnLeft:function(t){t.moveH(-1,"column")},goColumnRight:function(t){t.moveH(1,"column")},goWordLeft:function(t){t.moveH(-1,"word")},goGroupRight:function(t){t.moveH(1,"group")},goGroupLeft:function(t){t.moveH(-1,"group")},goWordRight:function(t){t.moveH(1,"word")},delCharBefore:function(t){t.deleteH(-1,"char")},delCharAfter:function(t){t.deleteH(1,"char")},delWordBefore:function(t){t.deleteH(-1,"word")},delWordAfter:function(t){t.deleteH(1,"word")},delGroupBefore:function(t){t.deleteH(-1,"group")},delGroupAfter:function(t){t.deleteH(1,"group")},indentAuto:function(t){t.indentSelection("smart")},indentMore:function(t){t.indentSelection("add")},indentLess:function(t){t.indentSelection("subtract")},insertTab:function(t){t.replaceSelection(" ","end","+input")},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.replaceSelection(" ","end","+input")},transposeChars:function(t){var e=t.getCursor(),n=t.getLine(e.line);e.ch>0&&e.ch<n.length-1&&t.replaceRange(n.charAt(e.ch)+n.charAt(e.ch-1),qt(e.line,e.ch-1),qt(e.line,e.ch+1))},newlineAndIndent:function(t){ot(t,function(){t.replaceSelection("\n","end","+input"),t.indentLine(t.getCursor().line,null,!0)})()},toggleOverwrite:function(t){t.toggleOverwrite()}},hi=t.keyMap={};hi.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},hi.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"},hi.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delLineLeft",fallthrough:["basic","emacsy"]},hi["default"]=Rr?hi.macDefault:hi.pcDefault,hi.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},t.lookupKey=be,t.isModifierKey=ke,t.keyName=we,t.fromTextArea=function(e,n){function r(){e.value=c.getValue()}if(n||(n={}),n.value=e.value,!n.tabindex&&e.tabindex&&(n.tabindex=e.tabindex),!n.placeholder&&e.placeholder&&(n.placeholder=e.placeholder),null==n.autofocus){var i=document.body;try{i=document.activeElement}catch(o){}n.autofocus=i==e||null!=e.getAttribute("autofocus")&&i==document.body}if(e.form&&(Wn(e.form,"submit",r),!n.leaveSubmitMethodAlone)){var s=e.form,a=s.submit;try{var l=s.submit=function(){r(),s.submit=a,s.submit(),s.submit=l}}catch(o){}}e.style.display="none";var c=t(function(t){e.parentNode.insertBefore(t,e.nextSibling)},n);return c.save=r,c.getTextArea=function(){return e},c.toTextArea=function(){r(),e.parentNode.removeChild(c.getWrapperElement()),e.style.display="",e.form&&(Rn(e.form,"submit",r),"function"==typeof e.form.submit&&(e.form.submit=a))},c},xe.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(t){var e=this.string.charAt(this.pos);if("string"==typeof t)var n=e==t;else var n=e&&(t.test?t.test(e):t(e));return n?(++this.pos,e):void 0},eatWhile:function(t){for(var e=this.pos;this.eat(t););return this.pos>e},eatSpace:function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(t){var e=this.string.indexOf(t,this.pos);return e>-1?(this.pos=e,!0):void 0},backUp:function(t){this.pos-=t},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Vn(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue},indentation:function(){return Vn(this.string,null,this.tabSize)},match:function(t,e,n){if("string"!=typeof t){var r=this.string.slice(this.pos).match(t);return r&&r.index>0?null:(r&&e!==!1&&(this.pos+=r[0].length),r)}var i=function(t){return n?t.toLowerCase():t},o=this.string.substr(this.pos,t.length);return i(o)==i(t)?(e!==!1&&(this.pos+=t.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)}},t.StringStream=xe,t.TextMarker=Ce,qn(Ce),Ce.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&rt(t),Bn(this,"clear")){var n=this.find();n&&jn(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=Te(s.markedSpans,this);null!=a.to&&(i=gn(s)),s.markedSpans=Me(s.markedSpans,a),null!=a.from?r=gn(s):this.collapsed&&!Pe(this.doc,s)&&t&&pn(s,et(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var o=0;o<this.lines.length;++o){var l=Re(t.doc,this.lines[o]),c=u(t.doc,l);c>t.display.maxLineLength&&(t.display.maxLine=l,t.display.maxLineLength=c,t.display.maxLineChanged=!0)}null!=r&&t&&lt(t,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&ee(t)),e&&it(t)}},Ce.prototype.find=function(){for(var t,e,n=0;n<this.lines.length;++n){var r=this.lines[n],i=Te(r.markedSpans,this);if(null!=i.from||null!=i.to){var o=gn(r);null!=i.from&&(t=qt(o,i.from)),null!=i.to&&(e=qt(o,i.to))}}return"bookmark"==this.type?t:t&&{from:t,to:e}},Ce.prototype.changed=function(){var t=this.find(),e=this.doc.cm;if(t&&e){var n=hn(this.doc,t.from.line);if(z(e,n),t.from.line>=e.display.showingFrom&&t.from.line<e.display.showingTo){for(var r=e.display.lineDiv.firstChild;r;r=r.nextSibling)if(r.lineObj==n){r.offsetHeight!=n.height&&pn(n,r.offsetHeight);break}at(e,function(){e.curOp.selectionChanged=e.curOp.forceUpdate=e.curOp.updateMaxLine=!0})}}},Ce.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=Yn(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},Ce.prototype.detachLine=function(t){if(this.lines.splice(Yn(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},t.SharedTextMarker=Se,qn(Se),Se.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();jn(this,"clear")}},Se.prototype.find=function(){return this.primary.find()};var fi=t.LineWidget=function(t,e,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.cm=t,this.node=e};qn(fi),fi.prototype.clear=Be(function(){var t=this.line.widgets,e=gn(this.line);if(null!=e&&t){for(var n=0;n<t.length;++n)t[n]==this&&t.splice(n--,1);t.length||(this.line.widgets=null);var r=vn(this.cm,this.line)<this.cm.doc.scrollTop;pn(this.line,Math.max(0,this.line.height-qe(this))),r&&le(this.cm,0,-this.height),lt(this.cm,e,e+1)}}),fi.prototype.changed=Be(function(){var t=this.height;this.height=null;var e=qe(this)-t;if(e){pn(this.line,this.line.height+e);var n=gn(this.line);lt(this.cm,n,n+1)}});var di=t.Line=function(t,e,n){this.text=t,Fe(this,e),this.height=n?n(this):1};qn(di);var pi={},gi=/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\uFEFF]/g;an.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var n=t,r=t+e;r>n;++n){var i=this.lines[n];this.height-=i.height,Ge(i),jn(i,"delete")}this.lines.splice(t,e)},collapse:function(t){t.splice.apply(t,[t.length,0].concat(this.lines))},insertInner:function(t,e,n){this.height+=n,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var r=0,i=e.length;i>r;++r)e[r].parent=this},iterN:function(t,e,n){for(var r=t+e;r>t;++t)if(n(this.lines[t]))return!0}},ln.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(i>t){var o=Math.min(e,i-t),s=r.height;if(r.removeInner(t,o),this.height-=s-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(e-=o))break;t=0}else t-=i}if(this.size-e<25){var a=[];this.collapse(a),this.children=[new an(a)],this.children[0].parent=this}},collapse:function(t){for(var e=0,n=this.children.length;n>e;++e)this.children[e].collapse(t)},insertInner:function(t,e,n){this.size+=e.length,this.height+=n;for(var r=0,i=this.children.length;i>r;++r){var o=this.children[r],s=o.chunkSize();if(s>=t){if(o.insertInner(t,e,n),o.lines&&o.lines.length>50){for(;o.lines.length>50;){var a=o.lines.splice(o.lines.length-25,25),l=new an(a);o.height-=l.height,this.children.splice(r+1,0,l),l.parent=this}this.maybeSpill()}break}t-=s}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),n=new ln(e);if(t.parent){t.size-=n.size,t.height-=n.height;var r=Yn(t.parent.children,t);t.parent.children.splice(r+1,0,n)}else{var i=new ln(t.children);i.parent=t,t.children=[i,n],t=i}n.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,n){for(var r=0,i=this.children.length;i>r;++r){var o=this.children[r],s=o.chunkSize();if(s>t){var a=Math.min(e,s-t);if(o.iterN(t,a,n))return!0;if(0==(e-=a))break;t=0}else t-=s}}};var mi=0,vi=t.Doc=function(t,e,n){if(!(this instanceof vi))return new vi(t,e,n);null==n&&(n=0),ln.call(this,[new an([new di("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.history=bn(),this.cleanGeneration=1,this.frontier=n;var r=qt(n,0);this.sel={from:r,to:r,head:r,anchor:r,shift:!1,extend:!1,goalColumn:null},this.id=++mi,this.modeOption=e,"string"==typeof t&&(t=Ei(t)),sn(this,{from:r,to:r,text:t},null,{head:r,anchor:r})};vi.prototype=Qn(ln.prototype,{constructor:vi,iter:function(t,e,n){n?this.iterN(t-this.first,e-t,n):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var n=0,r=0,i=e.length;i>r;++r)n+=e[r].height;this.insertInner(t-this.first,e,n)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=dn(this,this.first,this.first+this.size);return t===!1?e:e.join(t||"\n")},setValue:function(t){var e=qt(this.first,0),n=this.first+this.size-1;Wt(this,{from:e,to:qt(n,hn(this,n).text.length),text:Ei(t),origin:"setValue"},{head:e,anchor:e},!0)},replaceRange:function(t,e,n,r){e=Xt(this,e),n=n?Xt(this,n):e,Bt(this,t,e,n,r)},getRange:function(t,e,n){var r=fn(this,Xt(this,t),Xt(this,e));return n===!1?r:r.join(n||"\n")},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},setLine:function(t,e){Qt(this,t)&&Bt(this,e,qt(t,0),Xt(this,qt(t)))},removeLine:function(t){t?Bt(this,"",Xt(this,qt(t-1)),Xt(this,qt(t))):Bt(this,"",qt(0,0),Xt(this,qt(1,0)))},getLineHandle:function(t){return Qt(this,t)?hn(this,t):void 0},getLineNumber:function(t){return gn(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=hn(this,t)),Re(this,t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return Xt(this,t)},getCursor:function(t){var e,n=this.sel;return e=null==t||"head"==t?n.head:"anchor"==t?n.anchor:"end"==t||t===!1?n.to:n.from,Gt(e)},somethingSelected:function(){return!Ut(this.sel.head,this.sel.anchor)},setCursor:st(function(t,e,n){var r=Xt(this,"number"==typeof t?qt(t,e||0):t);n?Jt(this,r):te(this,r,r)}),setSelection:st(function(t,e){te(this,Xt(this,t),Xt(this,e||t))}),extendSelection:st(function(t,e){Jt(this,Xt(this,t),e&&Xt(this,e))}),getSelection:function(t){return this.getRange(this.sel.from,this.sel.to,t)},replaceSelection:function(t,e,n){Wt(this,{from:this.sel.from,to:this.sel.to,text:Ei(t),origin:n},e||"around")},undo:st(function(){Pt(this,"undo")}),redo:st(function(){Pt(this,"redo")}),setExtending:function(t){this.sel.extend=t},historySize:function(){var t=this.history;return{undo:t.done.length,redo:t.undone.length}},clearHistory:function(){this.history=bn(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration()},changeGeneration:function(){return this.history.lastOp=this.history.lastOrigin=null,this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:Sn(this.history.done),undone:Sn(this.history.undone)}},setHistory:function(t){var e=this.history=bn(this.history.maxGeneration);e.done=t.done.slice(0),e.undone=t.undone.slice(0)},markText:function(t,e,n){return _e(this,Xt(this,t),Xt(this,e),n,"range")},setBookmark:function(t,e){var n={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft};return t=Xt(this,t),_e(this,t,t,n,"bookmark")},findMarksAt:function(t){t=Xt(this,t);var e=[],n=hn(this,t.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=t.ch)&&(null==i.to||i.to>=t.ch)&&e.push(i.marker.parent||i.marker)}return e},getAllMarks:function(){var t=[];return this.iter(function(e){var n=e.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&t.push(n[r].marker)}),t},posFromIndex:function(t){var e,n=this.first;return this.iter(function(r){var i=r.text.length+1;return i>t?(e=t,!0):(t-=i,void++n)}),Xt(this,qt(n,e))},indexFromPos:function(t){t=Xt(this,t);var e=t.ch;return t.line<this.first||t.ch<0?0:(this.iter(this.first,t.line,function(t){e+=t.text.length+1}),e)},copy:function(t){var e=new vi(dn(this,this.first,this.first+this.size),this.modeOption,this.first);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel={from:this.sel.from,to:this.sel.to,head:this.sel.head,anchor:this.sel.anchor,shift:this.sel.shift,extend:!1,goalColumn:this.sel.goalColumn},t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,n=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<n&&(n=t.to);var r=new vi(dn(this,e,n),t.mode||this.modeOption,e);return t.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:t.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],r},unlinkDoc:function(e){if(e instanceof t&&(e=e.doc),this.linked)for(var n=0;n<this.linked.length;++n){var r=this.linked[n];if(r.doc==e){this.linked.splice(n,1),e.unlinkDoc(this);break}}if(e.history==this.history){var i=[e.id];cn(e,function(t){i.push(t.id)},!0),e.history=bn(),e.history.done=Sn(this.history.done,i),e.history.undone=Sn(this.history.undone,i)}},iterLinkedDocs:function(t){cn(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),vi.prototype.eachLine=vi.prototype.iter;var yi="iter insert remove copy getEditor".split(" ");for(var bi in vi.prototype)vi.prototype.hasOwnProperty(bi)&&Yn(yi,bi)<0&&(t.prototype[bi]=function(t){return function(){return t.apply(this.doc,arguments)}}(vi.prototype[bi]));qn(vi),t.e_stop=Dn,t.e_preventDefault=Nn,t.e_stopPropagation=$n;var ki,wi=0;t.on=Wn,t.off=Rn,t.signal=Pn;var xi=30,Ci=t.Pass={toString:function(){return"CodeMirror.Pass"}};Un.prototype={set:function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)}},t.countColumn=Vn;var _i=[""],Si=/[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Li=/[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\uA66F\uA670-\uA672\uA674-\uA67D\uA69F\udc00-\udfff]/;t.replaceGetRect=function(t){ar=t};var Ti=function(){if(Lr)return!1;var t=rr("div");return"draggable"in t||"dragDrop"in t}();Cr?lr=function(t,e){return 36==t.charCodeAt(e-1)&&39==t.charCodeAt(e)}:Nr&&!/Version\/([6-9]|\d\d)\b/.test(navigator.userAgent)?lr=function(t,e){return/\-[^ \-?]|\?[^ !\'\"\),.\-\/:;\?\]\}]/.test(t.slice(e-1,e+1))}:Tr&&!/Chrome\/(?:29|[3-9]\d|\d\d\d)\./.test(navigator.userAgent)&&(lr=function(t,e){if(e>1&&45==t.charCodeAt(e-1)){if(/\w/.test(t.charAt(e-2))&&/[^\-?\.]/.test(t.charAt(e)))return!0;if(e>2&&/[\d\.,]/.test(t.charAt(e-2))&&/[\d\.,]/.test(t.charAt(e)))return!1}return/[~!#%&*)=+}\]|\"\.>,:;][({[<]|-[^\-?\.\u2010-\u201f\u2026]|\?[\w~`@#$%\^&*(_=+{[|><]|…[\w~`@#$%\^&*(_=+{[><]/.test(t.slice(e-1,e+1))});var Mi,Ai,Ei=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,n=[],r=t.length;r>=e;){var i=t.indexOf("\n",e);-1==i&&(i=t.length);var o=t.slice(e,"\r"==t.charAt(i-1)?i-1:i),s=o.indexOf("\r");-1!=s?(n.push(o.slice(0,s)),e+=s+1):(n.push(o),e=i+1)}return n}:function(t){return t.split(/\r\n?|\n/)};t.splitLines=Ei;var Ni=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(e){return!1}}:function(t){try{var e=t.ownerDocument.selection.createRange()}catch(n){}return e&&e.parentElement()==t?0!=e.compareEndPoints("StartToEnd",e):!1},$i=function(){var t=rr("div");return"oncopy"in t?!0:(t.setAttribute("oncopy","return;"),"function"==typeof t.oncopy)}(),Oi={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};t.keyNames=Oi,function(){for(var t=0;10>t;t++)Oi[t+48]=String(t);for(var t=65;90>=t;t++)Oi[t]=String.fromCharCode(t);for(var t=1;12>=t;t++)Oi[t+111]=Oi[t+63235]="F"+t}();var Di,Ii=function(){function t(t){return 255>=t?e.charAt(t):t>=1424&&1524>=t?"R":t>=1536&&1791>=t?n.charAt(t-1536):t>=1792&&2220>=t?"r":"L"}var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLL",n="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmmrrrrrrrrrrrrrrrrrr",r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,o=/[LRr]/,s=/[Lb1n]/,a=/[1n]/,l="L";
return function(e){if(!r.test(e))return!1;for(var n,c=e.length,u=[],h=0;c>h;++h)u.push(n=t(e.charCodeAt(h)));for(var h=0,f=l;c>h;++h){var n=u[h];"m"==n?u[h]=f:f=n}for(var h=0,d=l;c>h;++h){var n=u[h];"1"==n&&"r"==d?u[h]="n":o.test(n)&&(d=n,"r"==n&&(u[h]="R"))}for(var h=1,f=u[0];c-1>h;++h){var n=u[h];"+"==n&&"1"==f&&"1"==u[h+1]?u[h]="1":","!=n||f!=u[h+1]||"1"!=f&&"n"!=f||(u[h]=f),f=n}for(var h=0;c>h;++h){var n=u[h];if(","==n)u[h]="N";else if("%"==n){for(var p=h+1;c>p&&"%"==u[p];++p);for(var g=h&&"!"==u[h-1]||c-1>p&&"1"==u[p]?"1":"N",m=h;p>m;++m)u[m]=g;h=p-1}}for(var h=0,d=l;c>h;++h){var n=u[h];"L"==d&&"1"==n?u[h]="L":o.test(n)&&(d=n)}for(var h=0;c>h;++h)if(i.test(u[h])){for(var p=h+1;c>p&&i.test(u[p]);++p);for(var v="L"==(h?u[h-1]:l),y="L"==(c-1>p?u[p]:l),g=v||y?"L":"R",m=h;p>m;++m)u[m]=g;h=p-1}for(var b,k=[],h=0;c>h;)if(s.test(u[h])){var w=h;for(++h;c>h&&s.test(u[h]);++h);k.push({from:w,to:h,level:0})}else{var x=h,C=k.length;for(++h;c>h&&"L"!=u[h];++h);for(var m=x;h>m;)if(a.test(u[m])){m>x&&k.splice(C,0,{from:x,to:m,level:1});var _=m;for(++m;h>m&&a.test(u[m]);++m);k.splice(C,0,{from:_,to:m,level:2}),x=m}else++m;h>x&&k.splice(C,0,{from:x,to:h,level:1})}return 1==k[0].level&&(b=e.match(/^\s+/))&&(k[0].from=b[0].length,k.unshift({from:0,to:b[0].length,level:0})),1==Kn(k).level&&(b=e.match(/\s+$/))&&(Kn(k).to-=b[0].length,k.push({from:c-b[0].length,to:c,level:0})),k[0].level!=Kn(k).level&&k.push({from:c,to:c,level:k[0].level}),k}}();return t.version="3.15.0",t}();const w=/^(\s*)([*+-]|(\d+)\.)([\w+(\s+\w+)]|[\s*])/,x=/^(\s*)([*+-]|(\d+)\.)(\s*)$/,C="*+-";var _=function(t,e){return t.getStateAfter(e.line).list||null},S=function(t){var e=t.getCursor();return _(t,e)};k.commands.shiftTabAndIndentContinueMarkdownList=function(t){var e=S(t);return null!==e?void t.execCommand("insertTab"):void t.execCommand("indentLess")},k.commands.tabAndIndentContinueMarkdownList=function(t){var e=S(t);return null!==e?void t.execCommand("insertTab"):void t.execCommand("indentMore")},k.commands.newlineAndIndentContinueMarkdownList=function(t){var e,n,r,i,o;if(e=t.getCursor(),n=t.getTokenAt(e),i=t.getLine(e.line).match(x),o=_(t,e),!o&&i)return t.replaceRange("",{line:e.line,ch:n.start},{line:e.line,ch:n.end}),t.execCommand("delLineLeft"),void t.execCommand("newlineAndIndent");if(!o||!(r=t.getLine(e.line).match(w)))return void t.execCommand("newlineAndIndent");var s=r[1],a=" ",l=C.indexOf(r[2])>=0?r[2]:parseInt(r[3],10)+1+".";t.replaceSelection("\n"+s+l+a,"end")},k.defineMode("xml",function(t,e){function n(t,e){function n(n){return e.tokenize=n,n(t,e)}var i=t.next();if("<"==i){if(t.eat("!"))return t.eat("[")?t.match("CDATA[")?n(o("atom","]]>")):null:t.match("--")?n(o("comment","-->")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),n(s(1))):null;if(t.eat("?"))return t.eatWhile(/[\w\._\-]/),e.tokenize=o("meta","?>"),"meta";var a=t.eat("/");b="";for(var l;l=t.eat(/[^\s\u00a0=<>\"\'\/?]/);)b+=l;return b?(k=a?"closeTag":"openTag",e.tokenize=r,"tag"):"error"}if("&"==i){var c;return c=t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"),c?"atom":"error"}return t.eatWhile(/[^&<]/),null}function r(t,e){var r=t.next();return">"==r||"/"==r&&t.eat(">")?(e.tokenize=n,k=">"==r?"endTag":"selfcloseTag","tag"):"="==r?(k="equals",null):"<"==r?"error":/[\'\"]/.test(r)?(e.tokenize=i(r),e.stringStartCol=t.column(),e.tokenize(t,e)):(t.eatWhile(/[^\s\u00a0=<>\"\']/),"word")}function i(t){var e=function(e,n){for(;!e.eol();)if(e.next()==t){n.tokenize=r;break}return"string"};return e.isInAttribute=!0,e}function o(t,e){return function(r,i){for(;!r.eol();){if(r.match(e)){i.tokenize=n;break}r.next()}return t}}function s(t){return function(e,r){for(var i;null!=(i=e.next());){if("<"==i)return r.tokenize=s(t+1),r.tokenize(e,r);if(">"==i){if(1==t){r.tokenize=n;break}return r.tokenize=s(t-1),r.tokenize(e,r)}}return"meta"}}function a(){for(var t=arguments.length-1;t>=0;t--)w.cc.push(arguments[t])}function l(){return a.apply(null,arguments),!0}function c(t,e){var n=T.doNotIndent.hasOwnProperty(t)||w.context&&w.context.noIndent;w.context={prev:w.context,tagName:t,indent:w.indented,startOfLine:e,noIndent:n}}function u(){w.context&&(w.context=w.context.prev)}function h(t){if("openTag"==t)return w.tagName=b,w.tagStart=x.column(),l(g,f(w.startOfLine));if("closeTag"==t){var e=!1;return w.context?w.context.tagName!=b&&(T.implicitlyClosed.hasOwnProperty(w.context.tagName.toLowerCase())&&u(),e=!w.context||w.context.tagName!=b):e=!0,e&&(C="error"),l(d(e))}return l()}function f(t){return function(e){var n=w.tagName;return w.tagName=w.tagStart=null,"selfcloseTag"==e||"endTag"==e&&T.autoSelfClosers.hasOwnProperty(n.toLowerCase())?(p(n.toLowerCase()),l()):"endTag"==e?(p(n.toLowerCase()),c(n,t),l()):l()}}function d(t){return function(e){return t&&(C="error"),"endTag"==e?(u(),l()):(C="error",l(arguments.callee))}}function p(t){for(var e;;){if(!w.context)return;if(e=w.context.tagName.toLowerCase(),!T.contextGrabbers.hasOwnProperty(e)||!T.contextGrabbers[e].hasOwnProperty(t))return;u()}}function g(t){return"word"==t?(C="attribute",l(m,g)):"endTag"==t||"selfcloseTag"==t?a():(C="error",l(g))}function m(t){return"equals"==t?l(v,g):(T.allowMissing?"word"==t&&(C="attribute"):C="error","endTag"==t||"selfcloseTag"==t?a():l())}function v(t){return"string"==t?l(y):"word"==t&&T.allowUnquoted?(C="string",l()):(C="error","endTag"==t||"selfCloseTag"==t?a():l())}function y(t){return"string"==t?l(y):a()}var b,k,w,x,C,_=t.indentUnit,S=e.multilineTagIndentFactor||1,L=e.multilineTagIndentPastTag||!0,T=e.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1},M=e.alignCDATA;return{startState:function(){return{tokenize:n,cc:[],indented:0,startOfLine:!0,tagName:null,tagStart:null,context:null}},token:function(t,e){if(!e.tagName&&t.sol()&&(e.startOfLine=!0,e.indented=t.indentation()),t.eatSpace())return null;C=k=b=null;var n=e.tokenize(t,e);if(e.type=k,(n||k)&&"comment"!=n)for(w=e,x=t;;){var r=e.cc.pop()||h;if(r(k||n))break}return e.startOfLine=!1,C||n},indent:function(t,e,i){var o=t.context;if(t.tokenize.isInAttribute)return t.stringStartCol+1;if(t.tokenize!=r&&t.tokenize!=n||o&&o.noIndent)return i?i.match(/^(\s*)/)[0].length:0;if(t.tagName)return L?t.tagStart+t.tagName.length+2:t.tagStart+_*S;if(M&&/<!\[CDATA\[/.test(e))return 0;for(o&&/^<\//.test(e)&&(o=o.prev);o&&!o.startOfLine;)o=o.prev;return o?o.indent+_:0},electricChars:"/",blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:e.htmlMode?"html":"xml",helperType:e.htmlMode?"html":"xml"}}),k.defineMIME("text/xml","xml"),k.defineMIME("application/xml","xml"),k.mimeModes.hasOwnProperty("text/html")||k.defineMIME("text/html",{name:"xml",htmlMode:!0}),k.defineMode("markdown",function(t,e){function n(t,e,n){return e.f=e.inline=n,n(t,e)}function r(t,e,n){return e.f=e.block=n,n(t,e)}function i(t){return t.linkTitle=!1,t.em=!1,t.strong=!1,t.strike=!1,t.quote=0,m||t.f!=s||(t.f=u,t.block=o),t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.thisLineHasContent=!1,null}function o(t,i){var o=i.list!==!1;if(i.list!==!1&&i.indentationDiff>=0?(i.indentationDiff<4&&(i.indentation-=i.indentationDiff),i.list=null):i.list!==!1&&i.indentation>0?(i.list=null,i.listDepth=Math.floor(i.indentation/4)):i.list!==!1&&(i.list=!1,i.listDepth=0),i.indentationDiff>=4)return i.indentation-=4,t.skipToEnd(),C;if(t.eatSpace())return null;if("#"===t.peek()||i.prevLineHasContent&&t.match(F))i.header=!0;else if(t.eat(">"))for(i.indentation++,i.quote=1,t.eatSpace();t.eat(">");)t.eatSpace(),i.quote++;else{if("["===t.peek())return n(t,i,f);if(t.match(R,!0))return A;if(i.prevLineHasContent&&!o||!t.match(P,!0)&&!t.match(j,!0)){if(e.fencedCodeBlocks&&t.match(/^```([\w+#]*)/,!0))return i.localMode=b(RegExp.$1),i.localMode&&(i.localState=i.localMode.startState()),r(t,i,a),C}else i.indentation+=4,i.list=!0,i.listDepth++,e.taskLists&&t.match(z,!1)&&(i.taskList=!0)}return n(t,i,i.inline)}function s(t,e){var n=v.token(t,e.htmlState);return m&&"tag"===n&&"openTag"!==e.htmlState.type&&!e.htmlState.context&&(e.f=u,e.block=o),e.md_inside&&-1!=t.current().indexOf(">")&&(e.f=u,e.block=o,e.htmlState.context=void 0),n}function a(t,e){return t.sol()&&t.match(/^```/,!0)?(e.localMode=e.localState=null,e.f=u,e.block=o,C):e.localMode?e.localMode.token(t,e.localState):(t.skipToEnd(),C)}function l(t){var e=[];if(t.taskOpen)return"meta";if(t.taskClosed)return"property";if(t.strong&&e.push(H),t.strike&&e.push(W),t.em&&e.push(I),t.linkText&&e.push(O),t.code&&e.push(C),t.header&&e.push(x),t.quote&&e.push(t.quote%2?_:S),t.list!==!1){var n=(t.listDepth-1)%3;n?1===n?e.push(T):e.push(M):e.push(L)}return t.trailingSpaceNewLine?e.push("trailing-space-new-line"):t.trailingSpace&&e.push("trailing-space-"+(t.trailingSpace%2?"a":"b")),e.length?e.join(" "):null}function c(t,e){return t.match(B,!0)?l(e):void 0}function u(t,i){var o=i.text(t,i);if("undefined"!=typeof o)return o;if(i.list)return i.list=null,l(i);if(i.taskList){var a="x"!==t.match(z,!0)[1];return a?i.taskOpen=!0:i.taskClosed=!0,i.taskList=!1,l(i)}i.taskOpen=!1,i.taskClosed=!1;var c=t.next();if("\\"===c)return t.next(),l(i);if(i.linkTitle){i.linkTitle=!1;var u=c;"("===c&&(u=")"),u=(u+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var f="^\\s*(?:[^"+u+"\\\\]+|\\\\\\\\|\\\\.)"+u;if(t.match(new RegExp(f),!0))return D}if("`"===c){var d=l(i),p=t.pos;t.eatWhile("`");var m=1+t.pos-p;return i.code?m===w?(i.code=!1,d):l(i):(w=m,i.code=!0,l(i))}if(i.code)return l(i);if("!"===c&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return t.match(/\[[^\]]*\]/),i.inline=i.f=h,E;if("["===c&&t.match(/.*\](\(| ?\[)/,!1))return i.linkText=!0,l(i);if("]"===c&&i.linkText){var v=l(i);return i.linkText=!1,i.inline=i.f=h,v}if("<"===c&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return n(t,i,g(N,">"));if("<"===c&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return n(t,i,g($,">"));if("<"===c&&t.match(/^\w/,!1)){if(-1!=t.string.indexOf(">")){var y=t.string.substring(1,t.string.indexOf(">"));/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(y)&&(i.md_inside=!0)}return t.backUp(1),r(t,i,s)}if("<"===c&&t.match(/^\/\w*?>/))return i.md_inside=!1,"tag";var b=!1;if(!e.underscoresBreakWords&&"_"===c&&"_"!==t.peek()&&t.match(/(\w)/,!1)){var k=t.pos-2;if(k>=0){var x=t.string.charAt(k);"_"!==x&&x.match(/(\w)/,!1)&&(b=!0)}}var d=l(i);if("*"===c||"_"===c&&!b){if(i.strong===c&&t.eat(c)&&t.peek(c))return i.strong=!1,d;if(!i.strong&&t.eat(c)&&t.peek(c))return i.strong=c,l(i);if(i.em===c)return i.em=!1,d;if(!i.em)return i.em=c,l(i)}else if("~"===c){if(i.strike===c&&t.eat(c))return i.strike=!1,d;if(!i.strike&&t.eat(c))return i.strike=c,l(i)}else if(" "===c&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return l(i);t.backUp(1)}return" "===c&&(t.match(/ +$/,!1)?i.trailingSpace++:i.trailingSpace&&(i.trailingSpaceNewLine=!0)),l(i)}function h(t,e){if(t.eatSpace())return null;var r=t.next();return"("===r||"["===r?n(t,e,g(D,"("===r?")":"]")):"error"}function f(t,e){return t.match(/^[^\]]*\]:/,!0)?(e.f=d,O):n(t,e,u)}function d(t,e){return t.eatSpace()?null:(t.match(/^[^\s]+/,!0),void 0===t.peek()?e.linkTitle=!0:t.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),e.f=e.inline=u,D)}function p(t){return q[t]||(t=(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),q[t]=new RegExp("^(?:[^\\\\]|\\\\.)*?("+t+")")),q[t]}function g(t,e,n){return n=n||u,function(r,i){return r.match(p(e)),i.inline=i.f=n,t}}var m=k.modes.hasOwnProperty("xml"),v=k.getMode(t,m?{name:"xml",htmlMode:!0}:"text/plain"),y={html:"htmlmixed",js:"javascript",json:"application/json",c:"text/x-csrc","c++":"text/x-c++src",java:"text/x-java",csharp:"text/x-csharp","c#":"text/x-csharp",scala:"text/x-scala"},b=function(){var e,n,r={},i={},o=[];for(var s in k.modes)k.modes.propertyIsEnumerable(s)&&o.push(s);for(e=0;e<o.length;e++)r[o[e]]=o[e];var a=[];for(var s in k.mimeModes)k.mimeModes.propertyIsEnumerable(s)&&a.push({mime:s,mode:k.mimeModes[s]});for(e=0;e<a.length;e++)n=a[e].mime,i[n]=a[e].mime;for(var l in y)(y[l]in r||y[l]in i)&&(r[l]=y[l]);return function(e){return r[e]?k.getMode(t,r[e]):null}}();void 0===e.underscoresBreakWords&&(e.underscoresBreakWords=!0),void 0===e.fencedCodeBlocks&&(e.fencedCodeBlocks=!1),void 0===e.taskLists&&(e.taskLists=!1);var w=0,x="header",C="comment",_="atom",S="number",L="variable-2",T="variable-3",M="keyword",A="hr",E="tag",N="link",$="link",O="link",D="string",I="em",H="strong",W="strike",R=/^([*\-=_])(?:\s*\1){4,}\s*$/,P=/^[*\-+]\s+/,j=/^[0-9]+\.\s+/,z=/^\[(x| )\](?=\s)/,F=/^(?:\={1,}|-{1,})$/,B=/^[^!\[\]*_~\\<>` "'(]+/,q=[];return{startState:function(){return{f:o,prevLineHasContent:!1,thisLineHasContent:!1,block:o,htmlState:k.startState(v),indentation:0,inline:u,text:c,linkText:!1,linkTitle:!1,em:!1,strong:!1,strike:!1,header:!1,taskList:!1,list:!1,listDepth:0,quote:0,trailingSpace:0,trailingSpaceNewLine:!1}},copyState:function(t){return{f:t.f,prevLineHasContent:t.prevLineHasContent,thisLineHasContent:t.thisLineHasContent,block:t.block,htmlState:k.copyState(v,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?k.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,linkTitle:t.linkTitle,em:t.em,strong:t.strong,strike:t.strike,header:t.header,taskList:t.taskList,list:t.list,listDepth:t.listDepth,quote:t.quote,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside}},token:function(t,e){if(t.sol()){if(t.match(/^\s*$/,!0))return e.prevLineHasContent=!1,i(e);e.prevLineHasContent=e.thisLineHasContent,e.thisLineHasContent=!0,e.header=!1,e.taskList=!1,e.code=!1,e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.f=e.block;var n=t.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length,r=4*Math.floor((n-e.indentation)/4);r>4&&(r=4);var o=e.indentation+r;if(e.indentationDiff=o-e.indentation,e.indentation=o,n>0)return null}return e.f(t,e)},blankLine:i,getType:l}},"xml"),k.defineMIME("text/x-markdown","markdown");var L=/Mac/.test(navigator.platform),T={"Cmd-B":s,"Cmd-I":a,"Cmd-K":h,"Cmd-Alt-I":f,"Cmd-'":l,"Cmd-Alt-L":u,"Cmd-L":c},M=[{name:"bold",action:s},{name:"italic",action:a},"|",{name:"quote",action:l},{name:"unordered-list",action:c},{name:"ordered-list",action:u},"|",{name:"link",action:h},{name:"image",action:f},"|",{name:"info",action:"http://lab.lepture.com/editor/markdown"},{name:"preview",action:g},{name:"fullscreen",action:o}];b.toolbar=M,b.markdown=function(t){return window.marked?marked(t):void 0},b.prototype.render=function(t){if(t||(t=this.element||document.getElementsByTagName("textarea")[0]),!this._rendered||this._rendered!==t){this.element=t;var n=this.options,r=this,i={};for(var o in T)!function(t){i[e(t)]=function(e){T[t](r)}}(o);i.Enter="newlineAndIndentContinueMarkdownList",i.Tab="tabAndIndentContinueMarkdownList",i["Shift-Tab"]="shiftTabAndIndentContinueMarkdownList",this.codemirror=k.fromTextArea(t,{mode:"markdown",theme:"paper",tabSize:"2",indentWithTabs:!0,lineNumbers:!1,autofocus:!0,extraKeys:i}),n.toolbar!==!1&&this.createToolbar(),n.status!==!1&&this.createStatusbar(),this._rendered=this.element}},b.prototype.createToolbar=function(t){if(t=t||this.options.toolbar,t&&0!==t.length){var e=document.createElement("div");e.className="editor-toolbar";var o=this;o.toolbar={};for(var s=0;s<t.length;s++)!function(t){var i;i=t.name?n(t.name,t):"|"===t?r():n(t),t.action&&("function"==typeof t.action?i.onclick=function(e){t.action(o)}:"string"==typeof t.action&&(i.href=t.action,i.target="_blank")),o.toolbar[t.name||t]=i,e.appendChild(i)}(t[s]);var a=this.codemirror;a.on("cursorActivity",function(){var t=i(a);for(var e in o.toolbar)!function(e){var n=o.toolbar[e];t[e]?n.className+=" active":n.className=n.className.replace(/\s*active\s*/g,"")}(e)});var l=a.getWrapperElement();return l.parentNode.insertBefore(e,l),e}},b.prototype.createStatusbar=function(t){if(t=t||this.options.status,t&&0!==t.length){var e=document.createElement("div");e.className="editor-statusbar";for(var n,r=this.codemirror,i=0;i<t.length;i++)!function(t){var i=document.createElement("span");i.className=t,"words"===t?(i.innerHTML="0",r.on("update",function(){i.innerHTML=y(r.getValue())})):"lines"===t?(i.innerHTML="0",r.on("update",function(){i.innerHTML=r.lineCount()})):"cursor"===t&&(i.innerHTML="0:0",r.on("cursorActivity",function(){n=r.getCursor(),i.innerHTML=n.line+":"+n.ch})),e.appendChild(i)}(t[i]);var o=this.codemirror.getWrapperElement();return o.parentNode.insertBefore(e,o.nextSibling),e}},b.prototype.value=function(t){return t?(this.codemirror.getDoc().setValue(t),this):this.codemirror.getValue()},b.toggleBold=s,b.toggleItalic=a,b.toggleBlockquote=l,b.toggleUnOrderedList=c,b.toggleOrderedList=u,b.drawLink=h,b.drawImage=f,b.undo=d,b.redo=p,b.togglePreview=g,b.toggleFullScreen=o,b.prototype.toggleBold=function(){s(this)},b.prototype.toggleItalic=function(){a(this)},b.prototype.toggleBlockquote=function(){l(this)},b.prototype.toggleUnOrderedList=function(){c(this)},b.prototype.toggleOrderedList=function(){u(this)},b.prototype.drawLink=function(){h(this)},b.prototype.drawImage=function(){f(this)},b.prototype.undo=function(){d(this)},b.prototype.redo=function(){p(this)},b.prototype.togglePreview=function(){g(this)},b.prototype.toggleFullScreen=function(){o(this)},t.Editor=b}(this),$(document).ready(function(){function t(t){return t.replace(e,"![emoji](https://assets-cdn.github.com/images/icons/emoji/$1.png)")}var e=/:(bowtie|smile|laughing|blush|smiley|relaxed|smirk|heart_eyes|kissing_heart|kissing_closed_eyes|flushed|relieved|satisfied|grin|wink|stuck_out_tongue_winking_eye|stuck_out_tongue_closed_eyes|grinning|kissing|kissing_smiling_eyes|stuck_out_tongue|sleeping|worried|frowning|anguished|open_mouth|grimacing|confused|hushed|expressionless|unamused|sweat_smile|sweat|disappointed_relieved|weary|pensive|disappointed|confounded|fearful|cold_sweat|persevere|cry|sob|joy|astonished|scream|neckbeard|tired_face|angry|rage|triumph|sleepy|yum|mask|sunglasses|dizzy_face|imp|smiling_imp|neutral_face|no_mouth|innocent|alien|yellow_heart|blue_heart|purple_heart|heart|green_heart|broken_heart|heartbeat|heartpulse|two_hearts|revolving_hearts|cupid|sparkling_heart|sparkles|star|star2|dizzy|boom|collision|anger|exclamation|question|grey_exclamation|grey_question|zzz|dash|sweat_drops|notes|musical_note|fire|hankey|poop|shit|\+1|thumbsup|\-1|thumbsdown|ok_hand|punch|facepunch|fist|v|wave|hand|raised_hand|open_hands|point_up|point_down|point_left|point_right|raised_hands|pray|point_up_2|clap|muscle|metal|fu|walking|runner|running|couple|family|two_men_holding_hands|two_women_holding_hands|dancer|dancers|ok_woman|no_good|information_desk_person|raising_hand|bride_with_veil|person_with_pouting_face|person_frowning|bow|couplekiss|couple_with_heart|massage|haircut|nail_care|boy|girl|woman|man|baby|older_woman|older_man|person_with_blond_hair|man_with_gua_pi_mao|man_with_turban|construction_worker|cop|angel|princess|smiley_cat|smile_cat|heart_eyes_cat|kissing_cat|smirk_cat|scream_cat|crying_cat_face|joy_cat|pouting_cat|japanese_ogre|japanese_goblin|see_no_evil|hear_no_evil|speak_no_evil|guardsman|skull|feet|lips|kiss|droplet|ear|eyes|nose|tongue|love_letter|bust_in_silhouette|busts_in_silhouette|speech_balloon|thought_balloon|feelsgood|finnadie|goberserk|godmode|hurtrealbad|rage1|rage2|rage3|rage4|suspect|trollface|sunny|umbrella|cloud|snowflake|snowman|zap|cyclone|foggy|ocean|cat|dog|mouse|hamster|rabbit|wolf|frog|tiger|koala|bear|pig|pig_nose|cow|boar|monkey_face|monkey|horse|racehorse|camel|sheep|elephant|panda_face|snake|bird|baby_chick|hatched_chick|hatching_chick|chicken|penguin|turtle|bug|honeybee|ant|beetle|snail|octopus|tropical_fish|fish|whale|whale2|dolphin|cow2|ram|rat|water_buffalo|tiger2|rabbit2|dragon|goat|rooster|dog2|pig2|mouse2|ox|dragon_face|blowfish|crocodile|dromedary_camel|leopard|cat2|poodle|paw_prints|bouquet|cherry_blossom|tulip|four_leaf_clover|rose|sunflower|hibiscus|maple_leaf|leaves|fallen_leaf|herb|mushroom|cactus|palm_tree|evergreen_tree|deciduous_tree|chestnut|seedling|blossom|ear_of_rice|shell|globe_with_meridians|sun_with_face|full_moon_with_face|new_moon_with_face|new_moon|waxing_crescent_moon|first_quarter_moon|waxing_gibbous_moon|full_moon|waning_gibbous_moon|last_quarter_moon|waning_crescent_moon|last_quarter_moon_with_face|first_quarter_moon_with_face|moon|earth_africa|earth_americas|earth_asia|volcano|milky_way|partly_sunny|octocat|squirrel|bamboo|gift_heart|dolls|school_satchel|mortar_board|flags|fireworks|sparkler|wind_chime|rice_scene|jack_o_lantern|ghost|santa|christmas_tree|gift|bell|no_bell|tanabata_tree|tada|confetti_ball|balloon|crystal_ball|cd|dvd|floppy_disk|camera|video_camera|movie_camera|computer|tv|iphone|phone|telephone|telephone_receiver|pager|fax|minidisc|vhs|sound|speaker|mute|loudspeaker|mega|hourglass|hourglass_flowing_sand|alarm_clock|watch|radio|satellite|loop|mag|mag_right|unlock|lock|lock_with_ink_pen|closed_lock_with_key|key|bulb|flashlight|high_brightness|low_brightness|electric_plug|battery|calling|email|mailbox|postbox|bath|bathtub|shower|toilet|wrench|nut_and_bolt|hammer|seat|moneybag|yen|dollar|pound|euro|credit_card|money_with_wings|e-mail|inbox_tray|outbox_tray|envelope|incoming_envelope|postal_horn|mailbox_closed|mailbox_with_mail|mailbox_with_no_mail|package|door|smoking|bomb|gun|hocho|pill|syringe|page_facing_up|page_with_curl|bookmark_tabs|bar_chart|chart_with_upwards_trend|chart_with_downwards_trend|scroll|clipboard|calendar|date|card_index|file_folder|open_file_folder|scissors|pushpin|paperclip|black_nib|pencil2|straight_ruler|triangular_ruler|closed_book|green_book|blue_book|orange_book|notebook|notebook_with_decorative_cover|ledger|books|bookmark|name_badge|microscope|telescope|newspaper|football|basketball|soccer|baseball|tennis|8ball|rugby_football|bowling|golf|mountain_bicyclist|bicyclist|horse_racing|snowboarder|swimmer|surfer|ski|spades|hearts|clubs|diamonds|gem|ring|trophy|musical_score|musical_keyboard|violin|space_invader|video_game|black_joker|flower_playing_cards|game_die|dart|mahjong|clapper|memo|pencil|book|art|microphone|headphones|trumpet|saxophone|guitar|shoe|sandal|high_heel|lipstick|boot|shirt|tshirt|necktie|womans_clothes|dress|running_shirt_with_sash|jeans|kimono|bikini|ribbon|tophat|crown|womans_hat|mans_shoe|closed_umbrella|briefcase|handbag|pouch|purse|eyeglasses|fishing_pole_and_fish|coffee|tea|sake|baby_bottle|beer|beers|cocktail|tropical_drink|wine_glass|fork_and_knife|pizza|hamburger|fries|poultry_leg|meat_on_bone|spaghetti|curry|fried_shrimp|bento|sushi|fish_cake|rice_ball|rice_cracker|rice|ramen|stew|oden|dango|egg|bread|doughnut|custard|icecream|ice_cream|shaved_ice|birthday|cake|cookie|chocolate_bar|candy|lollipop|honey_pot|apple|green_apple|tangerine|lemon|cherries|grapes|watermelon|strawberry|peach|melon|banana|pear|pineapple|sweet_potato|eggplant|tomato|corn|house|house_with_garden|school|office|post_office|hospital|bank|convenience_store|love_hotel|hotel|wedding|church|department_store|european_post_office|city_sunrise|city_sunset|japanese_castle|european_castle|tent|factory|tokyo_tower|japan|mount_fuji|sunrise_over_mountains|sunrise|stars|statue_of_liberty|bridge_at_night|carousel_horse|rainbow|ferris_wheel|fountain|roller_coaster|ship|speedboat|boat|sailboat|rowboat|anchor|rocket|airplane|helicopter|steam_locomotive|tram|mountain_railway|bike|aerial_tramway|suspension_railway|mountain_cableway|tractor|blue_car|oncoming_automobile|car|red_car|taxi|oncoming_taxi|articulated_lorry|bus|oncoming_bus|rotating_light|police_car|oncoming_police_car|fire_engine|ambulance|minibus|truck|train|station|train2|bullettrain_front|bullettrain_side|light_rail|monorail|railway_car|trolleybus|ticket|fuelpump|vertical_traffic_light|traffic_light|warning|construction|beginner|atm|slot_machine|busstop|barber|hotsprings|checkered_flag|crossed_flags|izakaya_lantern|moyai|circus_tent|performing_arts|round_pushpin|triangular_flag_on_post|jp|kr|cn|us|fr|es|it|ru|gb|uk|de|one|two|three|four|five|six|seven|eight|nine|keycap_ten|1234|zero|hash|symbols|arrow_backward|arrow_down|arrow_forward|arrow_left|capital_abcd|abcd|abc|arrow_lower_left|arrow_lower_right|arrow_right|arrow_up|arrow_upper_left|arrow_upper_right|arrow_double_down|arrow_double_up|arrow_down_small|arrow_heading_down|arrow_heading_up|leftwards_arrow_with_hook|arrow_right_hook|left_right_arrow|arrow_up_down|arrow_up_small|arrows_clockwise|arrows_counterclockwise|rewind|fast_forward|information_source|ok|twisted_rightwards_arrows|repeat|repeat_one|new|top|up|cool|free|ng|cinema|koko|signal_strength|u5272|u5408|u55b6|u6307|u6708|u6709|u6e80|u7121|u7533|u7a7a|u7981|sa|restroom|mens|womens|baby_symbol|no_smoking|parking|wheelchair|metro|baggage_claim|accept|wc|potable_water|put_litter_in_its_place|secret|congratulations|m|passport_control|left_luggage|customs|ideograph_advantage|cl|sos|id|no_entry_sign|underage|no_mobile_phones|do_not_litter|non-potable_water|no_bicycles|no_pedestrians|children_crossing|no_entry|eight_spoked_asterisk|sparkle|eight_pointed_black_star|heart_decoration|vs|vibration_mode|mobile_phone_off|chart|currency_exchange|aries|taurus|gemini|cancer|leo|virgo|libra|scorpius|sagittarius|capricorn|aquarius|pisces|ophiuchus|six_pointed_star|negative_squared_cross_mark|a|b|ab|o2|diamond_shape_with_a_dot_inside|recycle|end|back|on|soon|clock1|clock130|clock10|clock1030|clock11|clock1130|clock12|clock1230|clock2|clock230|clock3|clock330|clock4|clock430|clock5|clock530|clock6|clock630|clock7|clock730|clock8|clock830|clock9|clock930|heavy_dollar_sign|copyright|registered|tm|x|heavy_exclamation_mark|bangbang|interrobang|o|heavy_multiplication_x|heavy_plus_sign|heavy_minus_sign|heavy_division_sign|white_flower|100|heavy_check_mark|ballot_box_with_check|radio_button|link|curly_loop|wavy_dash|part_alternation_mark|trident|black_small_square|white_small_square|black_medium_small_square|white_medium_small_square|black_medium_square|white_medium_square|black_large_square|white_large_square|white_check_mark|black_square_button|white_square_button|black_circle|white_circle|red_circle|large_blue_circle|large_blue_diamond|large_orange_diamond|small_blue_diamond|small_orange_diamond|small_red_triangle|small_red_triangle_down|shipit):/g,n=document.getElementById("editor");if(n){var r=new Editor({element:n});Editor.editor=r,r.render()}$(".markdown-text").each(function(){var e=t($(this).html());$(this).html(marked(e))}),$(".reply-link").click(function(){var t=$(this).attr("data-uid"),e="[@"+$(this).attr("data-uname")+"](/users/"+t+") ";r.codemirror.replaceRange(e,{line:1/0}),setTimeout(function(){r.codemirror.codeMirrorInstance.refresh()},1)})}),function(){function t(t){this.tokens=[],this.tokens.links={},this.options=t||a.defaults,this.rules=l.normal,this.options.gfm&&(this.options.tables?this.rules=l.tables:this.rules=l.gfm)}function e(t,e){if(this.options=e||a.defaults,this.links=t,this.rules=c.normal,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=c.breaks:this.rules=c.gfm:this.options.pedantic&&(this.rules=c.pedantic)}function n(t){this.tokens=[],this.token=null,this.options=t||a.defaults}function r(t,e){return t.replace(e?/&/g:/&(?!#?\w+;)/g,"&").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function i(t,e){return t=t.source,e=e||"",function n(r,i){return r?(i=i.source||i,i=i.replace(/(^|[^\[])\^/g,"$1"),t=t.replace(r,i),n):new RegExp(t,e)}}function o(){}function s(t){for(var e,n,r=1;r<arguments.length;r++){e=arguments[r];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t}function a(e,i,o){if(o||"function"==typeof i){o||(o=i,i=null),i=s({},a.defaults,i||{});var l,c,u=i.highlight,h=0;try{l=t.lex(e,i)}catch(f){return o(f)}c=l.length;var d=function(){var t,e;try{t=n.parse(l,i)}catch(r){e=r}return i.highlight=u,e?o(e):o(null,t)};if(!u||u.length<3)return d();if(delete i.highlight,!c)return d();for(;h<l.length;h++)!function(t){return"code"!==t.type?--c||d():u(t.text,t.lang,function(e,n){return null==n||n===t.text?--c||d():(t.text=n,t.escaped=!0,void(--c||d()))})}(l[h])}else try{return i&&(i=s({},a.defaults,i)),n.parse(t.lex(e,i),i)}catch(f){if(f.message+="\nPlease report this to https://github.com/chjj/marked.",(i||a.defaults).silent)return"<p>An error occured:</p><pre>"+r(f.message+"",!0)+"</pre>";throw f}}var l={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:o,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:o,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:o,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};l.bullet=/(?:[*+-]|\d+\.)/,l.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,l.item=i(l.item,"gm")(/bull/g,l.bullet)(),l.list=i(l.list)(/bull/g,l.bullet)("hr",/\n+(?=(?: *[-*_]){3,} *(?:\n+|$))/)(),l._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|@)\\b",l.html=i(l.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,l._tag)(),l.paragraph=i(l.paragraph)("hr",l.hr)("heading",l.heading)("lheading",l.lheading)("blockquote",l.blockquote)("tag","<"+l._tag)("def",l.def)(),l.normal=s({},l),l.gfm=s({},l.normal,{fences:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/}),l.gfm.paragraph=i(l.paragraph)("(?!","(?!"+l.gfm.fences.source.replace("\\1","\\2")+"|"+l.list.source.replace("\\1","\\3")+"|")(),l.tables=s({},l.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),t.rules=l,t.lex=function(e,n){var r=new t(n);return r.lex(e)},t.prototype.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(t,!0)},t.prototype.token=function(t,e){for(var n,r,i,o,s,a,c,u,h,t=t.replace(/^ +$/gm,"");t;)if((i=this.rules.newline.exec(t))&&(t=t.substring(i[0].length),i[0].length>1&&this.tokens.push({type:"space"})),i=this.rules.code.exec(t))t=t.substring(i[0].length),i=i[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?i:i.replace(/\n+$/,"")});else if(i=this.rules.fences.exec(t))t=t.substring(i[0].length),this.tokens.push({type:"code",lang:i[2],text:i[3]});else if(i=this.rules.heading.exec(t))t=t.substring(i[0].length),this.tokens.push({type:"heading",depth:i[1].length,text:i[2]});else if(e&&(i=this.rules.nptable.exec(t))){for(t=t.substring(i[0].length),a={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/\n$/,"").split("\n")},u=0;u<a.align.length;u++)/^ *-+: *$/.test(a.align[u])?a.align[u]="right":/^ *:-+: *$/.test(a.align[u])?a.align[u]="center":/^ *:-+ *$/.test(a.align[u])?a.align[u]="left":a.align[u]=null;
for(u=0;u<a.cells.length;u++)a.cells[u]=a.cells[u].split(/ *\| */);this.tokens.push(a)}else if(i=this.rules.lheading.exec(t))t=t.substring(i[0].length),this.tokens.push({type:"heading",depth:"="===i[2]?1:2,text:i[1]});else if(i=this.rules.hr.exec(t))t=t.substring(i[0].length),this.tokens.push({type:"hr"});else if(i=this.rules.blockquote.exec(t))t=t.substring(i[0].length),this.tokens.push({type:"blockquote_start"}),i=i[0].replace(/^ *> ?/gm,""),this.token(i,e),this.tokens.push({type:"blockquote_end"});else if(i=this.rules.list.exec(t)){for(t=t.substring(i[0].length),o=i[2],this.tokens.push({type:"list_start",ordered:o.length>1}),i=i[0].match(this.rules.item),n=!1,h=i.length,u=0;h>u;u++)a=i[u],c=a.length,a=a.replace(/^ *([*+-]|\d+\.) +/,""),~a.indexOf("\n ")&&(c-=a.length,a=this.options.pedantic?a.replace(/^ {1,4}/gm,""):a.replace(new RegExp("^ {1,"+c+"}","gm"),"")),this.options.smartLists&&u!==h-1&&(s=l.bullet.exec(i[u+1])[0],o===s||o.length>1&&s.length>1||(t=i.slice(u+1).join("\n")+t,u=h-1)),r=n||/\n\n(?!\s*$)/.test(a),u!==h-1&&(n="\n"===a.charAt(a.length-1),r||(r=n)),this.tokens.push({type:r?"loose_item_start":"list_item_start"}),this.token(a,!1),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(i=this.rules.html.exec(t))t=t.substring(i[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:"pre"===i[1]||"script"===i[1]||"style"===i[1],text:i[0]});else if(e&&(i=this.rules.def.exec(t)))t=t.substring(i[0].length),this.tokens.links[i[1].toLowerCase()]={href:i[2],title:i[3]};else if(e&&(i=this.rules.table.exec(t))){for(t=t.substring(i[0].length),a={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/(?: *\| *)?\n$/,"").split("\n")},u=0;u<a.align.length;u++)/^ *-+: *$/.test(a.align[u])?a.align[u]="right":/^ *:-+: *$/.test(a.align[u])?a.align[u]="center":/^ *:-+ *$/.test(a.align[u])?a.align[u]="left":a.align[u]=null;for(u=0;u<a.cells.length;u++)a.cells[u]=a.cells[u].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(a)}else if(e&&(i=this.rules.paragraph.exec(t)))t=t.substring(i[0].length),this.tokens.push({type:"paragraph",text:"\n"===i[1].charAt(i[1].length-1)?i[1].slice(0,-1):i[1]});else if(i=this.rules.text.exec(t))t=t.substring(i[0].length),this.tokens.push({type:"text",text:i[0]});else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return this.tokens};var c={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:o,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:o,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};c._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,c._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,c.link=i(c.link)("inside",c._inside)("href",c._href)(),c.reflink=i(c.reflink)("inside",c._inside)(),c.normal=s({},c),c.pedantic=s({},c.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),c.gfm=s({},c.normal,{escape:i(c.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:i(c.text)("]|","~]|")("|","|https?://|")()}),c.breaks=s({},c.gfm,{br:i(c.br)("{2,}","*")(),text:i(c.gfm.text)("{2,}","*")()}),e.rules=c,e.output=function(t,n,r){var i=new e(n,r);return i.output(t)},e.prototype.output=function(t){for(var e,n,i,o,s="";t;)if(o=this.rules.escape.exec(t))t=t.substring(o[0].length),s+=o[1];else if(o=this.rules.autolink.exec(t))t=t.substring(o[0].length),"@"===o[2]?(n=":"===o[1].charAt(6)?this.mangle(o[1].substring(7)):this.mangle(o[1]),i=this.mangle("mailto:")+n):(n=r(o[1]),i=n),s+='<a href="'+i+'">'+n+"</a>";else if(o=this.rules.url.exec(t))t=t.substring(o[0].length),n=r(o[1]),i=n,s+='<a href="'+i+'">'+n+"</a>";else if(o=this.rules.tag.exec(t))t=t.substring(o[0].length),s+=this.options.sanitize?r(o[0]):o[0];else if(o=this.rules.link.exec(t))t=t.substring(o[0].length),s+=this.outputLink(o,{href:o[2],title:o[3]});else if((o=this.rules.reflink.exec(t))||(o=this.rules.nolink.exec(t))){if(t=t.substring(o[0].length),e=(o[2]||o[1]).replace(/\s+/g," "),e=this.links[e.toLowerCase()],!e||!e.href){s+=o[0].charAt(0),t=o[0].substring(1)+t;continue}s+=this.outputLink(o,e)}else if(o=this.rules.strong.exec(t))t=t.substring(o[0].length),s+="<strong>"+this.output(o[2]||o[1])+"</strong>";else if(o=this.rules.em.exec(t))t=t.substring(o[0].length),s+="<em>"+this.output(o[2]||o[1])+"</em>";else if(o=this.rules.code.exec(t))t=t.substring(o[0].length),s+="<code>"+r(o[2],!0)+"</code>";else if(o=this.rules.br.exec(t))t=t.substring(o[0].length),s+="<br>";else if(o=this.rules.del.exec(t))t=t.substring(o[0].length),s+="<del>"+this.output(o[1])+"</del>";else if(o=this.rules.text.exec(t))t=t.substring(o[0].length),s+=r(this.smartypants(o[0]));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return s},e.prototype.outputLink=function(t,e){return"!"!==t[0].charAt(0)?'<a href="'+r(e.href)+'"'+(e.title?' title="'+r(e.title)+'"':"")+">"+this.output(t[1])+"</a>":'<img src="'+r(e.href)+'" alt="'+r(t[1])+'"'+(e.title?' title="'+r(e.title)+'"':"")+">"},e.prototype.smartypants=function(t){return this.options.smartypants?t.replace(/--/g,"—").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):t},e.prototype.mangle=function(t){for(var e,n="",r=t.length,i=0;r>i;i++)e=t.charCodeAt(i),Math.random()>.5&&(e="x"+e.toString(16)),n+="&#"+e+";";return n},n.parse=function(t,e){var r=new n(e);return r.parse(t)},n.prototype.parse=function(t){this.inline=new e(t.links,this.options),this.tokens=t.reverse();for(var n="";this.next();)n+=this.tok();return n},n.prototype.next=function(){return this.token=this.tokens.pop()},n.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},n.prototype.parseText=function(){for(var t=this.token.text;"text"===this.peek().type;)t+="\n"+this.next().text;return this.inline.output(t)},n.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return"<hr>\n";case"heading":return"<h"+this.token.depth+' id="'+this.token.text.toLowerCase().replace(/[^\w]+/g,"-")+'">'+this.inline.output(this.token.text)+"</h"+this.token.depth+">\n";case"code":if(this.options.highlight){var t=this.options.highlight(this.token.text,this.token.lang);null!=t&&t!==this.token.text&&(this.token.escaped=!0,this.token.text=t)}return this.token.escaped||(this.token.text=r(this.token.text,!0)),"<pre><code"+(this.token.lang?' class="'+this.options.langPrefix+this.token.lang+'"':"")+">"+this.token.text+"</code></pre>\n";case"table":var e,n,i,o,s,a="";for(a+="<thead>\n<tr>\n",n=0;n<this.token.header.length;n++)e=this.inline.output(this.token.header[n]),a+="<th",this.token.align[n]&&(a+=' style="text-align:'+this.token.align[n]+'"'),a+=">"+e+"</th>\n";for(a+="</tr>\n</thead>\n",a+="<tbody>\n",n=0;n<this.token.cells.length;n++){for(i=this.token.cells[n],a+="<tr>\n",s=0;s<i.length;s++)o=this.inline.output(i[s]),a+="<td",this.token.align[s]&&(a+=' style="text-align:'+this.token.align[s]+'"'),a+=">"+o+"</td>\n";a+="</tr>\n"}return a+="</tbody>\n","<table>\n"+a+"</table>\n";case"blockquote_start":for(var a="";"blockquote_end"!==this.next().type;)a+=this.tok();return"<blockquote>\n"+a+"</blockquote>\n";case"list_start":for(var l=this.token.ordered?"ol":"ul",a="";"list_end"!==this.next().type;)a+=this.tok();return"<"+l+">\n"+a+"</"+l+">\n";case"list_item_start":for(var a="";"list_item_end"!==this.next().type;)a+="text"===this.token.type?this.parseText():this.tok();return"<li>"+a+"</li>\n";case"loose_item_start":for(var a="";"list_item_end"!==this.next().type;)a+=this.tok();return"<li>"+a+"</li>\n";case"html":return this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);case"paragraph":return"<p>"+this.inline.output(this.token.text)+"</p>\n";case"text":return"<p>"+this.parseText()+"</p>\n"}},o.exec=o,a.options=a.setOptions=function(t){return s(a.defaults,t),a},a.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1},a.Parser=n,a.parser=n.parse,a.Lexer=t,a.lexer=t.lex,a.InlineLexer=e,a.inlineLexer=e.output,a.parse=a,"object"==typeof exports?module.exports=a:"function"==typeof define&&define.amd?define(function(){return a}):this.marked=a}.call(function(){return this||("undefined"!=typeof window?window:global)}()),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};!function(n){var r;return n.fn.pagination=function(t){return this.each(function(){return new r(n(this),t).render()})},r=function(){function r(e,r){var i;this.el=e,this.change=t(this.change,this),this.clicked=t(this.clicked,this),this.isValidPage=t(this.isValidPage,this),this.render=t(this.render,this),this.pages=t(this.pages,this),this.buildLink=t(this.buildLink,this),this.buildLi=t(this.buildLi,this),this.buildLinks=t(this.buildLinks,this),i={current_page:1,total_pages:1,next:"&gt;",prev:"&lt;",first:!1,last:!1,display_max:8,ignore_single_page:!0,no_turbolink:!1},this.settings=n.extend(i,r),n(document).on?n(this.el).on("click","a",this.clicked):n("a",this.el).live("click",this.clicked),this.el.data("paginationView",this)}return r.prototype.buildLinks=function(){var t,e,n,r,i,o;for(t=this.settings.current_page,e=[],this.settings.first&&e.push(this.buildLi(1,this.settings.first)),this.settings.prev&&e.push(this.buildLi(t-1,this.settings.prev)),o=this.pages(),r=0,i=o.length;i>r;r++)n=o[r],e.push(this.buildLi(n,n));return this.settings.next&&e.push(this.buildLi(t+1,this.settings.next)),this.settings.last&&e.push(this.buildLi(this.settings.total_pages,this.settings.last)),e},r.prototype.buildLi=function(t,e){return null==e&&(e=t),"<li>"+this.buildLink(t,e)+"</li>"},r.prototype.buildLink=function(t,e){var n;return null==e&&(e=t),n=this.settings.no_turbolink?" data-no-turbolink='1'":"","<a href='#' data-page='"+t+"'"+n+">"+e+"</a>"},r.prototype.pages=function(){var t,r,i,o,s,a,l,c,u,h,f,d,p,g,m;if(a=this.settings.total_pages,r=this.settings.current_page,s=[],i=this.settings.display_max,a>10){if(s.push(1),r>i-1&&s.push(".."),r===a)for(o=l=d=a-i;a>=d?a>=l:l>=a;o=a>=d?++l:--l)s.push(o);if(i-1>a-r)for(o=c=p=a-i;a>=p?a>=c:c>=a;o=a>=p?++c:--c)s.push(o);else if(r>i-1)for(t=i/2,o=u=g=r-t,m=r+t;m>=g?m>=u:u>=m;o=m>=g?++u:--u)s.push(o);else if(i-1>=r)for(o=h=2;i>=2?i>=h:h>=i;o=i>=2?++h:--h)s.push(o);s=n.grep(s,function(t,e){return n.inArray(t,s)===e}),e.call(s,a)<0&&(i-1>a-r||s.push(".."),s.push(a))}else for(o=f=1;a>=1?a>=f:f>=a;o=a>=1?++f:--f)s.push(o);return s},r.prototype.render=function(){var t,e,r,i,o;if(this.el.html(""),1!==this.settings.total_pages||!this.settings.ignore_single_page){for(t=["<div class='jquery-bootstrap-pagination'>"],t.push("<ul class='pagination'>"),o=this.buildLinks(),r=0,i=o.length;i>r;r++)e=o[r],t.push(e);return t.push("</ul>"),t.push("</div>"),this.el.html(t.join("\n")),n("[data-page="+this.settings.current_page+"]",this.el).closest("li").addClass("active"),n("[data-page='..']",this.el).closest("li").addClass("disabled"),n("[data-page='0']",this.el).closest("li").addClass("disabled"),n("[data-page='"+(this.settings.total_pages+1)+"']",this.el).closest("li").addClass("disabled"),1===this.settings.current_page&&this.settings.first&&n("li:first",this.el).removeClass("active").addClass("disabled"),this.settings.current_page===this.settings.total_pages&&this.settings.last?n("li:last",this.el).removeClass("active").addClass("disabled"):void 0}},r.prototype.isValidPage=function(t){return t>0&&t!==this.settings.current_page&&t<=this.settings.total_pages},r.prototype.clicked=function(t){var e;return e=parseInt(n(t.target).attr("data-page")),this.isValidPage(e)?(null!=this.settings.callback&&this.settings.callback(t,e),this.change(e)):void 0},r.prototype.change=function(t){return t=parseInt(t),this.isValidPage(t)?(this.settings.current_page=t,this.render()):void 0},r}()}(jQuery)}.call(this),require.register("web/static/js/app",function(t,e,n){"use strict";e("phoenix_html"),$(function(){return $("time.pubdate").each(function(){var t,e,n,r;return e=$(this),t=e.attr("datetime"),n=e.data("user"),r=new Date(t),e.html(""+r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate()+" "+r.getHours()+"点"+r.getMinutes()+"分")}),$(".topics_pagination").each(function(){var t,e;return e=$(this),t=e.data("path"),e.pagination({total_pages:parseInt(e.data("pages")),current_page:parseInt(e.data("page")),callback:function(t,e){return window.location.search="?page="+e}})})})}),require("web/static/js/app");